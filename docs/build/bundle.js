var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function a(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function s(e){return null==e?"":e}function c(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function d(){return p(" ")}function h(){return p("")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e){return function(t){return t.preventDefault(),e.call(this,t)}}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}let y;function v(e){y=e}function k(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}function x(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const S=[],A=[],j=[],T=[],E=Promise.resolve();let $=!1;function C(e){j.push(e)}const P=new Set;let O=0;function M(){const e=y;do{for(;O<S.length;){const e=S[O];O++,v(e),N(e.$$)}for(v(null),S.length=0,O=0;A.length;)A.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];P.has(t)||(P.add(t),t())}j.length=0}while(S.length);for(;T.length;)T.pop()();$=!1,P.clear(),v(e)}function N(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const D=new Set;let z;function L(){z={r:0,c:[],p:z}}function B(){z.r||r(z.c),z=z.p}function I(e,t){e&&e.i&&(D.delete(e),e.i(t))}function H(e,t,n,r){if(e&&e.o){if(D.has(e))return;D.add(e),z.c.push((()=>{D.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function R(e,t){H(e,1,1,(()=>{t.delete(e.key)}))}function U(e){e&&e.c()}function G(e,n,o,i){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=e.$$;s&&s.m(n,o),i||C((()=>{const n=c.map(t).filter(a);l?l.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(C)}function F(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function q(e,t){-1===e.$$.dirty[0]&&(S.push(e),$||($=!0,E.then(M)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(t,a,o,i,s,c,l,f=[-1]){const p=y;v(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:a.target||p.$$.root};l&&l(d.root);let h=!1;if(d.ctx=o?o(t,a.props||{},((e,n,...r)=>{const a=r.length?r[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=a)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](a),h&&q(t,e)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!i&&i(d.ctx),a.target){if(a.hydrate){const e=function(e){return Array.from(e.childNodes)}(a.target);d.fragment&&d.fragment.l(e),e.forEach(u)}else d.fragment&&d.fragment.c();a.intro&&I(t.$$.fragment),G(t,a.target,a.anchor,a.customElement),M()}v(p)}class V{$destroy(){F(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const J=[];function K(t,n=e){let r;const a=new Set;function i(e){if(o(t,e)&&(t=e,r)){const e=!J.length;for(const e of a)e[1](),J.push(e,t);if(e){for(let e=0;e<J.length;e+=2)J[e][0](J[e+1]);J.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,s=e){const c=[o,s];return a.add(c),1===a.size&&(r=n(i)||e),o(t),()=>{a.delete(c),0===a.size&&(r(),r=null)}}}}let Z="";function X(){return Z=new URLSearchParams(window.location.search).get("c"),Z}var Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Q(e){var t={exports:{}};return e(t,t.exports),t.exports}function ee(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var te=Q((function(e){!function(){function t(e,n){return n?ee(e):e.slice?t[r(e)]:function(n,a){e(n={exports:{}}),t[r(a)]=n.exports};function r(e){return e.split("/").slice(-1).toString().replace(".js","")}}var n=e;t((function(e){String.random=function(e,t){var n="";for(e=e||24,t=t||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";e-- >0;)n+=t.charAt(Math.floor(Math.random()*t.length));return n},String.match=function(e,t){var n,r;return"string"==typeof e&&("string"==typeof t&&(t={"=":t}),e===(n=(t=t||{})["="]||t["*"]||t[">"]||t["<"])||r===t["="]&&(n=t["*"]||t[">"],e.slice(0,(n||"").length)===n||r===t["*"]&&(r!==t[">"]&&r!==t["<"]?e>=t[">"]&&e<=t["<"]:r!==t[">"]&&e>=t[">"]||r!==t["<"]&&e<=t["<"])))},String.hash=function(e,t){if("string"==typeof e){if(t=t||0,!e.length)return t;for(var n=0,r=e.length;n<r;++n)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}};var t,n,r,a,o=Object.prototype.hasOwnProperty;Object.plain=function(e){return!!e&&(e instanceof Object&&e.constructor===Object||"Object"===Object.prototype.toString.call(e).match(/^\[object (\w+)\]$/)[1])},Object.empty=function(e,t){for(var n in e)if(o.call(e,n)&&(!t||-1==t.indexOf(n)))return!1;return!0},Object.keys=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t},t=setTimeout,n=0,r=0,a=typeof setImmediate!=""+void 0&&setImmediate||t,t.poll=t.poll||function(e){1>=+new Date-n&&r++<3333?e():a((function(){n=+new Date,e()}),r=0)},function(){var e,t=setTimeout,n=t.turn=t.turn||function(e){1==r.push(e)&&a(i)},r=n.s=[],a=t.poll,o=0,i=function(){(e=r[o++])&&e(),o!=r.length&&99!=o||(r=n.s=r.slice(o),o=0),r.length&&a(i)}}(),function(){var e,t=setTimeout,n=t.turn;(t.each=t.each||function(t,r,a,o){o=o||9,function i(s,c,l){if(c=(s=(t||[]).splice(0,o)).length){for(var u=0;u<c&&e===(l=r(s[u]));u++);if(e===l)return void n(i)}a&&a(l)}()})()}()}))(t,"./shim"),t((function(e){e.exports=function e(t,n,r){if(!t)return{to:e};var a="function"==typeof n;t=(this.tag||(this.tag={}))[t]||a&&(this.tag[t]={tag:t,to:e._={next:function(e){var t;(t=this.to)&&t.next(e)}}});if(a){var o={off:e.off||(e.off=function(){if(this.next===e._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=e._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:e._,next:n,the:t,on:this,as:r};return(o.back=t.last||t).to=o,t.last=o}return(t=t.to)&&undefined!==n&&t.next(n),t}}))(t,"./onto"),t((function(e){t("./shim"),e.exports=function(e){return void 0!==e&&(null===e||e!==1/0&&(e==e&&("string"==typeof e||"boolean"==typeof e||"number"==typeof e||!(!e||"string"!=typeof(e["#"]||0)||!Object.empty(e,["#"]))&&e["#"])))}}))(t,"./valid"),t((function(e){function n(){var e=+new Date;return s<e?(o=0,s=e+n.drift):s=e+(o+=1)/i+n.drift}t("./shim"),n.drift=0;var r,a=-1/0,o=0,i=999,s=a;n.is=function(e,t,n){var r=t&&e&&e._&&e._[">"]||n;if(r)return"number"==typeof(r=r[t])?r:a},n.ify=function(e,t,n,a,o){(e=e||{})._=e._||{},o&&(e._["#"]=o);var i=e._[">"]||(e._[">"]={});return r!==t&&"_"!==t&&("number"==typeof n&&(i[t]=n),r!==a&&(e[t]=a)),e},e.exports=n}))(t,"./state"),t((function(e){t("./shim"),e.exports=function(e){var t={s:{}},n=t.s;e=e||{max:999,age:9e3},t.check=function(e){return!!n[e]&&r(e)};var r=t.track=function(r){var a=n[r]||(n[r]={});return a.was=t.now=+new Date,t.to||(t.to=setTimeout(t.drop,e.age+9)),a};return t.drop=function(r){t.to=null,t.now=+new Date;var a=Object.keys(n);console.STAT&&console.STAT(t.now,+new Date-t.now,"dup drop keys"),setTimeout.each(a,(function(a){var o=n[a];o&&(r||e.age)>t.now-o.was||delete n[a]}),0,99)},t}}))(t,"./dup"),t((function(e){t("./onto"),e.exports=function(e,t){if(this.on){var r=(this.opt||{}).lack||9e3;if("function"!=typeof e){if(!e)return;var a=e["#"]||e,o=(this.tag||"")[a];if(!o)return;return t&&(o=this.on(a,t),clearTimeout(o.err),o.err=setTimeout((function(){o.off()}),r)),!0}a=t&&t["#"]||n(9);if(!e)return a;var i=this.on(a,e,t);return i.err=i.err||setTimeout((function(){i.off(),i.next({err:"Error: No ACK yet.",lack:!0})}),r),a}};var n=String.random||function(){return Math.random().toString(36).slice(2)}}))(t,"./ask"),t((function(e){function r(e){return e instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:e}):new r(e)}r.is=function(e){return e instanceof r||e&&e._&&e===e._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},t("./shim"),r.valid=t("./valid"),r.state=t("./state"),r.on=t("./onto"),r.dup=t("./dup"),r.ask=t("./ask"),function(){function e(n){if(n)if(n.out!==e){var a,o=this.as,c=o.at||o,l=c.$,u=c.dup,f=n.DBG;if((a=n["#"])||(a=n["#"]=s(9)),!u.check(a)){if(u.track(a),a=n._,n._="function"==typeof a?a:function(){},n.$&&n.$===(n.$._||"").$||(n.$=l),n["@"]&&!n.put&&function(e){var t,n=e["@"]||"";if(!(t=n._))return;t.acks=(t.acks||0)+1,(t.err=e.err)&&(e["@"]=t["#"],i(t));t.stop||t.crack||(t.crack=t.match&&t.match.push((function(){d(t)})));d(t)}(n),!c.ask(n["@"],n)){if(f&&(f.u=+new Date),n.put)return void t(n);n.get&&r.on.get(n,l)}f&&(f.uc=+new Date),this.to.next(n),f&&(f.ua=+new Date),n.nts||n.NTS||(n.out=e,c.on("out",n),f&&(f.ue=+new Date))}}else this.to.next(n)}function t(t){if(t){var r=t._||"",o=r.root=((r.$=t.$||"")._||"").root;if(t["@"]&&r.faith&&!r.miss)return t.out=e,void o.on("out",t);r.latch=o.hatch,r.match=o.hatch=[];var s=t.put,u=r.DBG=t.DBG,f=+new Date;if(!s["#"]||!s["."]){u&&(u.p=f),r["#"]=t["#"],r.msg=t,r.all=0,r.stun=1;var p=Object.keys(s);console.STAT&&console.STAT(f,((u||r).pk=+new Date)-f,"put sort");var d,m,b,_,w,y,v,k=0;!function e(o){if(d!=k){if(d=k,!(b=p[k]))return console.STAT&&console.STAT(f,((u||r).pd=+new Date)-f,"put"),void i(r);(_=s[b])?(v=_._)?b!==v["#"]?y=h+g(b)+"soul not same.":(w=v[">"])||(y=h+g(b)+"no state."):y=h+g(b)+"no meta.":y=h+g(b)+"no node.",m=Object.keys(_||{})}if(y)return t.err=r.err=y,void i(r);var x,S=0;for(o=o||0;o++<9&&(x=m[S++]);)if("_"!==x){var A=_[x],j=w[x];if(a===j){y=h+g(x)+"on"+g(b)+"no state.";break}if(!l(A)){y=h+g(x)+"on"+g(b)+"bad "+typeof A+g(A);break}n(A,x,b,j,t)}(m=m.slice(S)).length?c(e):(++k,m=null,e(o))}()}}}function n(e,t,r,a,o){var i,s=o._||"",c=s.root,l=c.graph,f=l[r]||p,d=u(f,t,1),h=f[t],g=s.DBG;(i=console.STAT)&&(l[r]&&h||(i.has=(i.has||0)+1));var w=_();if(a>w)return setTimeout((function(){n(e,t,r,a,o)}),(i=a-w)>b?b:i),void(console.STAT&&console.STAT((g||s).Hf=+new Date,i,"future"));if((!(a<d)||s.miss)&&(s.faith||a!==d||!(e===h||m(e)<=m(h))||s.miss)){s.stun++;var y=o["#"]+s.all++,v={toString:function(){return y},_:s};v.toJSON=v.toString,g&&(g.ph=g.ph||+new Date),c.on("put",{"#":v,"@":o["@"],put:{"#":r,".":t,":":e,">":a},_:s})}}function o(e){var t;(t=(e._||"").DBG)&&(t.pa=+new Date,t.pm=t.pm||+new Date);var n,r=this.as,a=r.graph,o=e._,s=e.put,c=s["#"],l=s["."],u=s[":"],p=s[">"];e["#"],(n=o.msg)&&(n=n.put)&&(n=n[c])&&f(n,l,p,u,c),a[c]=f(a[c],l,p,u,c),(n=(r.next||"")[c])&&n.on("in",e),i(o),this.to.next(e)}function i(t,n){var r;if(!t.stop&&(t.err||!(0<--t.stun))&&(t.stop=1,r=t.root)){var a=t.match;a.end=1,a===r.hatch&&(!(a=t.latch)||a.end?delete r.hatch:r.hatch=a),t.hatch&&t.hatch(),setTimeout.each(t.match,(function(e){e&&e()})),!(n=t.msg)||t.err||n.err||(n.out=e,t.root.on("out",n))}}function d(e){e&&e.root&&(e.stun||e.acks!==e.all||e.root.on("in",{"@":e["#"],err:e.err,ok:e.err?a:{"":1}}))}r.create=function(t){t.root=t.root||t,t.graph=t.graph||{},t.on=t.on||r.on,t.ask=t.ask||r.ask,t.dup=t.dup||r.dup();var n=t.$.opt(t.opt);return t.once||(t.on("in",e,t),t.on("out",e,t),t.on("put",o,t),r.on("create",t),t.on("create",t)),t.once=1,n},r.on.put=t;var h="Error: Invalid graph!",g=function(e){return" '"+(""+e).slice(0,9)+"...' "},m=JSON.stringify,b=2147483647,_=r.state}(),function(){function e(e,t){var n=+new Date,r=e._||{},o=r.DBG=e.DBG,i=e["#"],c=s(9),l=Object.keys(t||"").sort(),p=((t||"")._||"")["#"];l.length;var d=e.$._.root,h=t===d.graph[p];console.STAT&&console.STAT(n,((o||r).gk=+new Date)-n,"got keys"),t&&function e(){n=+new Date;for(var r,g,m,b=0,_={};b<9&&(r=l[b++]);)f(_,r,u(t,r),t[r],p);l=l.slice(b),(g={})[p]=_,_=g,h&&((m=function(){}).ram=m.faith=!0),g=l.length,console.STAT&&console.STAT(n,-(n-(n=+new Date)),"got copied some"),o&&(o.ga=+new Date),d.on("in",{"@":i,"#":c,put:_,"%":g?c=s(9):a,$:d.$,_:m,DBG:o}),console.STAT&&console.STAT(n,+new Date-n,"got in"),g&&setTimeout.turn(e)}(),t||d.on("in",{"@":e["#"]})}r.on.get=function(t,n){var r=n._,o=t.get,i=o["#"],s=r.graph[i],c=o["."];(r.next||(r.next={}))[i];var l=(t._||{}).DBG=t.DBG;if(l&&(l.g=+new Date),!s)return r.on("get",t);if(c){if("string"!=typeof c||a===s[c])return r.on("get",t);s=f({},c,u(s,c),s[c],i)}s&&e(t,s),r.on("get",t)},r.on.get.ack=e}(),r.chain.opt=function(e){e=e||{};var t=this._,n=e.peers||e;return Object.plain(e)||(e={}),Object.plain(t.opt)||(t.opt=e),"string"==typeof n&&(n=[n]),n instanceof Array&&(Object.plain(t.opt.peers)||(t.opt.peers={}),n.forEach((function(e){var n={};n.id=n.url=e,t.opt.peers[e]=t.opt.peers[e]||n}))),t.opt.peers=t.opt.peers||{},i(e,(function e(t){var n=this[t];this&&this.hasOwnProperty(t)||"string"==typeof n||Object.empty(n)?this[t]=n:(!n||n.constructor===Object||n instanceof Array)&&i(n,e)})),r.on("opt",t),t.opt.uuid=t.opt.uuid||function(e){return r.state().toString(36).replace(".","")+String.random(e||12)},this};var a,o,i=function(e,t){Object.keys(e).forEach(t,e)},s=String.random,c=setTimeout.turn,l=r.valid,u=r.state.is,f=r.state.ify,p={};r.log=function(){return!r.log.off&&o.log.apply(o,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(e,t,n){return(n=r.log.once)[e]=n[e]||0,n[e]++||r.log(t)},"undefined"!=typeof window&&((window.GUN=window.Gun=r).window=window);try{void 0!==n&&(n.exports=r)}catch(e){}e.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(o=console).only=function(e,t){return o.only.i&&e===o.only.i&&o.only.i++&&(o.log.apply(o,arguments)||t)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")}))(t,"./root"),t((function(e){t("./root").chain.back=function(e,t){if(-1===(e=e||1)||1/0===e)return this._.root.$;if(1===e)return(this._.back||this._).$;var a=this._;if("string"==typeof e&&(e=e.split(".")),e instanceof Array){for(var o=0,i=e.length,s=a;o<i;o++)s=(s||r)[e[o]];return n!==s?t?this:s:(s=a.back)?s.$.back(e,t):void 0}if("function"==typeof e){var c;for(s={back:a};(s=s.back)&&n===(c=e(s,t)););return c}return"number"==typeof e?(a.back||a).$.back(e-1):this};var n,r={}}))(t,"./back"),t((function(e){var n=t("./root");function r(e,t){if(t=t||this.as||e.$._,(!e.$$||this===n.on)&&e.put&&!t.soul){var r=e.put||"",a=r["="]||r[":"],o=t.root,i=o.$.get(r["#"]).get(r["."])._;if("string"==typeof(a=l(a))){if(!(i.echo||(i.echo={}))[t.id]||(o.pass||"")[t.id]){if(s=o.pass){if(s[a+t.id])return;s[a+t.id]=1}(i.echo||(i.echo={}))[t.id]=t,t.has&&(t.link=a);var s,c=o.$.get(i.link=a)._;(c.echo||(c.echo={}))[i.id]=i,((s=t.ask||"")[""]||t.lex)&&c.on("out",{get:{"#":a}}),setTimeout.each(Object.keys(s),(function(e,t){e&&(t=s[e])&&t.on("out",{get:{"#":a,".":e}})}),0,99)}}else this===n.on&&((i.echo||(i.echo={}))[t.id]=t)}}function a(e,t){var n,r,o=e.put||"",s=i!==o["="]?o["="]:o[":"],c=t.root;if(i===s){if(t.soul&&i!==t.put)return;if(r=(e.$$||e.$||"")._||"",e["@"]&&(i!==r.put||i!==t.put))return;return(n=t.link||e.linked)&&delete(c.$.get(n)._.echo||"")[t.id],t.has&&(t.link=null),t.put=i,void setTimeout.each(Object.keys(t.next||""),(function(e,r){(r=t.next[e])&&(n&&delete(c.$.get(n).get(e)._.echo||"")[r.id],r.on("in",{get:e,put:i,$:r.$}))}),0,99)}t.soul||e.$$||(n=l(s),r=e.$._||"",(n!==r.link&&(!t.has||r.link)||(c.pass||"")[t.id]&&"string"!=typeof n)&&(delete(r.echo||"")[t.id],a({get:t.get,put:i,$:e.$,linked:e.linked=e.linked||r.link},t)))}function o(e,t){var r=this.as,a=r.$._;a.root;var o=r.get||"",s=(e.put||"")[o["#"]]||"";if(!e.put||"string"==typeof o["."]&&i===s[o["."]]){if(i!==a.put)return;if(!a.soul&&!a.has)return;return a.ack=(a.ack||0)+1,void a.on("in",{get:a.get,put:a.put=i,$:a.$,"@":e["@"]})}(e._||{}).miss=1,n.on.put(e)}n.chain.chain=function(e){var t,r=this,a=r._,o=new(e||r).constructor(r),i=o._;return i.root=t=a.root,i.id=++t.once,i.back=r._,i.on=n.on,i.on("in",n.on.in,i),i.on("out",n.on.out,i),o},n.on.out=function(e){var t,n,r=this.as,a=r.back,s=r.root;if(e.$||(e.$=r.$),this.to.next(e),!r.err){if(t=e.get){if(s.pass&&(s.pass[r.id]=r),r.lex&&Object.keys(r.lex).forEach((function(e){n[e]=r.lex[e]}),n=e.get=e.get||{}),t["#"]||r.soul){if(t["#"]=t["#"]||r.soul,e["#"]||(e["#"]=c(9)),a=s.$.get(t["#"])._,t=t["."]){if(u(a.put,t)&&(n=a.ask&&a.ask[t],(a.ask||(a.ask={}))[t]=a.$.get(t)._,a.on("in",{get:t,put:{"#":a.soul,".":t,":":a.put[t],">":p(s.graph[a.soul],t)}}),n))return}else{if(n=a.ask&&a.ask[""],(a.ask||(a.ask={}))[""]=a,i!==a.put&&(a.on("in",a),n))return;e.$=a.$}return s.ask(o,e),s.on("in",e)}if(t["."])return r.get?(e={get:{".":r.get},$:r.$},(a.ask||(a.ask={}))[r.get]=e.$._,a.on("out",e)):(e={get:r.lex?e.get:{},$:r.$},a.on("out",e));if((r.ask||(r.ask={}))[""]=r,r.get)return t["."]=r.get,(a.ask||(a.ask={}))[r.get]=e.$._,a.on("out",e)}return a.on("out",e)}r.on("in",{put:r.put=i,$:r.$})},n.on.in=function(e,t){var n,o=(t=t||this.as).root,c=e.$||(e.$=t.$),u=(c||"")._||s,f=e.put||"",h=f["#"],g=f["."],m=i!==f["="]?f["="]:f[":"],b=f[">"]||-1/0;if(i!==e.put&&(i===f["#"]||i===f["."]||i===f[":"]&&i===f["="]||i===f[">"]))return l(f)?void t.on("in",{$:u.back.$,put:{"#":h=u.back.soul,".":g=u.has||u.get,"=":f,">":p(u.back.put,g)},via:e}):(h=((f||"")._||"")["#"])?(c=t.root.$.get(h),setTimeout.each(Object.keys(f).sort(),(function(n){"_"!=n&&i!==(b=p(f,n))&&t.on("in",{$:c,put:{"#":h,".":n,"=":f[n],">":b},VIA:e})}))):void console.log("chain not yet supported for",f,"...",e,t);(e.seen||"")[t.id]||((e.seen||(e.seen=function(){}))[t.id]=t,t!==u&&(Object.keys(e).forEach((function(t){f[t]=e[t]}),f={}),f.get=t.get||f.get,t.soul||t.has?u.soul&&(f.$=t.$,f.$$=f.$$||u.$):f.$$$=f.$$$||t.$,e=f),a(e,t),(t.soul||e.$$)&&b>=p(o.graph[h],g)&&((f=o.$.get(h)._).put=d(f.put,g,b,m,h)),!u.soul&&b>=p(o.graph[h],g)&&(n=(o.$.get(h)._.next||"")[g])&&(n.put=m,"string"==typeof(f=l(m))&&(n.put=o.$.get(f)._.put||m)),this.to&&this.to.next(e),t.any&&setTimeout.each(Object.keys(t.any),(function(n){(n=t.any[n])&&n(e)}),0,99),t.echo&&setTimeout.each(Object.keys(t.echo),(function(n){(n=t.echo[n])&&n.on("in",e)}),0,99),((e.$$||"")._||u).soul&&(n=t.next)&&(n=n[g])&&(f={},Object.keys(e).forEach((function(t){f[t]=e[t]})),f.$=(e.$$||e.$).get(f.get=g),delete f.$$,delete f.$$$,n.on("in",f)),r(e,t))},n.on.link=r,n.on.unlink=a;var i,s={},c=String.random,l=n.valid,u=function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)},f=n.state,p=f.is,d=f.ify}))(t,"./chain"),t((function(e){var n=t("./root");function r(e){var t=this.at||this.on;if(!e||t.soul||t.has)return this.off();if(e=(e=(e=e.$||e)._||e).id){var n;if(t.map,(n=this.seen||(this.seen={}))[e])return!0;n[e]=!0}}n.chain.get=function(e,t,s){var c,l;if("string"==typeof e){if(0==e.length)return(c=this.chain())._.err={err:n.log("0 length key!",e)},t&&t.call(c,c._.err),c;(c=((f=this._).next||o)[e])||(c=e&&function(e,t){var n=t._,r=n.next,a=t.chain()._;r||(r=n.next={});r[a.get=e]=a,t===n.root.$?a.soul=e:(n.soul||n.has)&&(a.has=e);return a}(e,this)),c=c&&c.$}else{if("function"==typeof e){if(!0===t)return function(e,t,r,o){var i,s=e._,c=0;if(i=s.soul||s.link)return t(i,o,s);if(s.jam)return s.jam.push([t,o]);s.jam=[[t,o]],e.get((function(e,t){if(!(a===e.put&&!s.root.opt.super&&(i=Object.keys(s.root.opt.peers).length)&&++c<=i)){t.rid(e);var r,o=(o=e.$)&&o._||{},l=0;for(i=s.jam,delete s.jam;r=i[l++];){var u=r[0];r=r[1],u&&u(o.link||o.soul||n.valid(e.put)||((e.put||{})._||{})["#"],r,e,t)}}}),{out:{get:{".":!0}}})}(this,e,0,s),this;var u,f=(c=this)._,p=t||{},d=f.root;p.at=f,p.ok=e;var h={};function o(e,t,r){if(!o.stun&&(!(i=d.pass)||i[u])){var i,s=e.$._,c=(e.$$||"")._,l=(c||s).put,g=!s.has&&!s.soul,m={};if((g||a===l)&&(l=a===((i=e.put)||"")["="]?a===(i||"")[":"]?i:i[":"]:i["="]),"string"==typeof(i=n.valid(l))&&(l=a===(i=d.$.get(i)._.put)?p.not?a:l:i),!p.not||a!==l){if(a===p.stun){if((i=d.stun)&&i.on&&(f.$.back((function(e){if(i.on(""+e.id,m={}),(m.run||0)<o.id)return m})),!m.run&&i.on(""+s.id,m={}),!m.run&&c&&i.on(""+c.id,m={}),o.id>m.run&&(m.stun&&!m.stun.end||(m.stun=i.on("stun"),m.stun=m.stun&&m.stun.last),m.stun&&!m.stun.end)))return void((m.stun.add||(m.stun.add={}))[u]=function(){o(e,t,1)});if(a===l&&(r=0),(i=d.hatch)&&!i.end&&a===p.hatch&&!r){if(h[s.$._.id])return;return h[s.$._.id]=1,void i.push((function(){o(e,t,1)}))}h={}}if(d.pass){if(d.pass[u+s.id])return;d.pass[u+s.id]=1}p.on?p.ok.call(s.$,l,s.get,e,t||o):p.v2020?p.ok(e,t||o):(Object.keys(e).forEach((function(t){i[t]=e[t]}),i={}),(e=i).put=l,p.ok.call(p.as,e,t||o))}}}return o.at=f,(f.any||(f.any={}))[u=String.random(7)]=o,o.off=function(){o.stun=1,f.any&&delete f.any[u]},o.rid=r,o.id=p.run||++d.once,l=d.pass,(d.pass={})[u]=1,p.out=p.out||{get:{}},f.on("out",p.out),d.pass=l,c}if("number"==typeof e)return this.get(""+e,t,s);if("string"==typeof(l=i(e)))return this.get(l,t,s);(l=this.get.next)&&(c=l(this,e))}return c?(t&&"function"==typeof t&&c.get(t,s),c):((c=this.chain())._.err={err:n.log("Invalid get request!",e)},t&&t.call(c,c._.err),c)};var a,o={},i=n.valid}))(t,"./get"),t((function(e){var n=t("./root");function r(e,t){if(t){t=(t._||"").id||t;var r,a=e.root.stun||(e.root.stun={on:n.on}),o={};e.stun||(e.stun=a.on("stun",(function(){}))),(r=a.on(""+t))&&r.the.last.next(o),o.run>=e.run||a.on(""+t,(function(t){if(e.stun.end)return this.off(),void this.to.next(t);t.run=t.run||e.run,t.stun=t.stun||e.stun}))}}function a(e){if(e.err)a.end(e.stun,e.root);else if(!e.todo.length&&!e.end&&Object.empty(e.wait)){e.end=1;var t,r=e.$.back(-1)._,o=r.root,i=r.ask((function(t){o.on("ack",t),t.err&&n.log(t),++s>(e.acks||0)&&this.off(),e.ack&&e.ack(t,this)}),e.opt),s=0,c=e.stun;(t=function(){c&&(a.end(c,o),setTimeout.each(Object.keys(c=c.add||""),(function(e){(e=c[e])&&e()})))}).hatch=t,e.via._.on("out",{put:e.out=e.graph,opt:e.opt,"#":i,_:t})}}n.chain.put=function(e,t,u){var f=this,p=f._,d=p.root;(u=u||{}).root=p.root,u.run||(u.run=d.once),r(u,p.id),u.ack=u.ack||t,u.via=u.via||f,u.data=u.data||e,u.soul||(u.soul=p.soul||"string"==typeof t&&t);var h=u.state=u.state||n.state();return"function"==typeof e?(e((function(e){u.data=e,f.put(o,o,u)})),f):u.soul?(u.$=d.$.get(u.soul),u.todo=[{it:u.data,ref:u.$}],u.turn=u.turn||s,u.ran=u.ran||a,function e(){var t,a,o,s,f,p=u.todo,d=p.pop(),g=d.it;if(d.ref&&d.ref._.id,r(u,d.ref),(s=d.todo)&&(g=g[a=s.pop()],s.length&&p.push(d)),a&&(p.path||(p.path=[])).push(a),!(t=c(g))&&!(f=n.is(g))){if(!Object.plain(g))return(u.ack||i).call(u,u.out={err:u.err=n.log("Invalid data: "+(g&&(s=g.constructor)&&s.name||typeof g)+" at "+(u.via.back((function(e){e.get&&s.push(e.get)}),s=[])||s.join("."))+"."+(p.path||[]).join("."))}),void u.ran(u);for(var m=u.seen||(u.seen=[]),b=m.length;b--;)if(g===(s=m[b]).it){t=g=s.link;break}}if(a&&t)d.node=l(d.node,a,h,g);else{u.seen.push(o={it:g,link:{},todo:f?[]:Object.keys(g).sort().reverse(),path:(p.path||[]).slice(),up:d}),d.node=l(d.node,a,h,o.link),!f&&o.todo.length&&p.push(o);var _=u.seen.length;function e(t,n){var a=o.link["#"];n&&(n.off(),n.rid(t));var i=a||t.soul||(s=(t.$$||t.$)._||"").soul||s.link||((s=s.put||"")._||"")["#"]||s["#"]||((s=t.put||"")&&t.$$?s["#"]:(s["="]||s[":"]||"")["#"]);!a&&r(u,t.$),i||d.link["#"]?(i||(i=[],(t.$$||t.$).back((function(e){if(s=e.soul||e.link)return i.push(s);i.push(e.get)})),i=i.reverse().join("/")),o.link["#"]=i,!f&&(((u.graph||(u.graph={}))[i]=o.node||(o.node={_:{}}))._["#"]=i),delete u.wait[_],o.wait&&setTimeout.each(o.wait,(function(e){e&&e()})),u.ran(u)):(d.wait||(d.wait=[])).push((function(){e(t,n)}))}(u.wait||(u.wait={}))[_]="",s=(o.ref=f?g:a?d.ref.get(a):d.ref)._,(s=g&&(g._||"")["#"]||s.soul||s.link)?e({soul:s}):o.ref.get(e,{run:u.run,v2020:1,out:{get:{".":" "}}})}if(!p.length)return u.ran(u);u.turn(e)}(),f):(function(e){var t,n=e.via._;e.via=e.via.back((function(n){if(n.soul||!n.get)return n.$;t=e.data,(e.data={})[n.get]=t})),e.via&&e.via._.soul||(e.via=n.root.$.get(((e.data||"")._||"")["#"]||n.$.back("opt.uuid")()));e.via.put(e.data,e.ack,e)}(u),f)},a.end=function(e,t){e.end=i,e.the.to===e&&e===e.the.last&&delete t.stun,e.off()};var o,i=function(){},s=setTimeout.turn,c=n.valid,l=n.state.ify}))(t,"./put"),t((function(e){var n=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),e.exports=n}))(t,"./index"),t((function(e){var n,r=t("./index");r.chain.on=function(e,t,n,r){var a,o=this,i=o._;if(i.root,"string"==typeof e)return t?(a=i.on(e,t,n||i,r),n&&n.$&&(n.subs||(n.subs=[])).push(a),o):i.on(e);var s=t;return(s=!0===s?{change:!0}:s||{}).not=1,s.on=1,o.get(e,s),o},r.chain.once=function(e,t){if(t=t||{},!e)return function(e,t,n){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(n=e.chain())._.nix=e.once((function(e,t){n._.on("in",this._)})),n._.lex=e._.lex,n}(this);var a=this,o=a._,i=o.root;o.put;var s,c=String.random(7);return a.get((function(a,l,u,f){var p=this,d=p._,h=d.one||(d.one={});function g(){d.has||d.soul||(d={put:a,get:l}),n===(s=d.put)&&(s=((u.$$||"")._||"").put),"string"==typeof r.valid(s)&&(s=i.$.get(s)._.put)===n||f.stun||""!==h[c]&&(h[c]="",(o.soul||o.has)&&f.off(),e.call(p,s,d.get))}f.stun||""!==h[c]&&(!0!==(s=r.valid(a))?"string"!=typeof s&&(clearTimeout((o.one||"")[c]),clearTimeout(h[c]),h[c]=setTimeout(g,t.wait||99)):g())}),{on:1}),a},r.chain.off=function(){var e,t=this._,n=t.back;if(n)return t.ack=0,(e=n.next)&&e[t.get]&&delete e[t.get],(e=n.ask)&&delete e[t.get],(e=n.put)&&delete e[t.get],(e=t.soul)&&delete n.root.graph[e],(e=t.map)&&Object.keys(e).forEach((function(t,r){(r=e[t]).link&&n.root.$.get(r.link).off()})),(e=t.next)&&Object.keys(e).forEach((function(t,n){e[t].$.off()})),t.on("off",{}),this}}))(t,"./on"),t((function(e){var n=t("./index"),r=n.chain.get.next;function a(e){this.to.next(e);var t,r=this.as,a=e.$._,o=e.put;(a.soul||e.$$)&&((t=r.lex)&&!String.match(e.get||(o||"")["."],t["."]||t["#"]||t)||n.on.link(e,r))}n.chain.get.next=function(e,t){var n;return Object.plain(t)?(n=((n=t["#"])||"")["="]||n)?e.get(n):((n=e.chain()._).lex=t,e.on("in",(function(e){String.match(e.get||(e.put||"")["."],t["."]||t["#"]||t)&&n.on("in",e),this.to.next(e)})),n.$):(r||i)(e,t)},n.chain.map=function(e,t,r){var s,c,l=this,u=l._;return Object.plain(e)&&(s=e["."]?e:{".":e},e=o),e?(n.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),c=l.chain(),l.map().on((function(t,r,a,s){var l=(e||i).call(this,t,r,a,s);if(o!==l){if(t===l)return c._.on("in",a);if(n.is(l))return c._.on("in",l._);var u={};Object.keys(a.put).forEach((function(e){u[e]=a.put[e]}),u),u["="]=l,c._.on("in",{get:r,put:u})}})),c):((c=u.each)||((u.each=c=l.chain())._.lex=s||c._.lex||u.lex,c._.nix=l.back("nix"),l.on("in",a,c._)),c)};var o,i=function(){}}))(t,"./map"),t((function(e){var n=t("./index");n.chain.set=function(e,t,r){var a,o,i=this,s=i.back(-1);return t=t||function(){},(r=r||{}).item=r.item||e,(a=((e||"")._||"")["#"])&&((e={})["#"]=a),"string"==typeof(o=n.valid(e))?i.get(a=o).put(e,t,r):n.is(e)?(i.put((function(r){e.get((function(e,a,s){if(!e)return t.call(i,{err:n.log('Only a node can be linked! Not "'+s.put+'"!')});(o={})[e]={"#":e},r(o)}),!0)})),e):(Object.plain(e)&&(e=s.get(a=i.back("opt.uuid")()).put(e)),i.get(a||s.back("opt.uuid")(7)).put(e,t,r))}}))(t,"./set"),t((function(e){var n;t("./shim");try{e.exports=function(e){var t=function(){},r=e.opt||{};r.log=r.log||console.log,r.gap=r.gap||r.wait||0,r.max=r.max||.3*(r.memory?999*r.memory*999:3e8),r.pack=r.pack||.01*r.max*.01,r.puff=r.puff||9;var a=setTimeout.turn||setTimeout,o=JSON.parseAsync||function(e,t,n){try{t(void 0,JSON.parse(e,n))}catch(e){t(e)}},i=JSON.stringifyAsync||function(e,t,n,r){try{t(void 0,JSON.stringify(e,n,r))}catch(e){t(e)}},s=e.dup,c=s.check,l=s.track,u=t.hear=function(e,n){if(e){if(r.max<=e.length)return t.say({dam:"!",err:"Message too big!"},n);t===this&&(u.d+=e.length||0,++u.c);var i,s=n.SH=+new Date,c=e[0];return"["===c?(o(e,(function(e,o){if(e||!o)return t.say({dam:"!",err:"DAM JSON parse error."},n);console.STAT&&console.STAT(+new Date,o.length,"# on hear batch");var i=r.puff;!function e(){for(var t,r=+new Date,s=0;s<i&&(t=o[s++]);)u(t,n);o=o.slice(s),console.STAT&&console.STAT(r,+new Date-r,"hear loop"),f(n),o.length&&a(e,0)}()})),void(e="")):"{"===c||(e["#"]||Object.plain(e))&&(i=e)?i?u.one(i,n,s):void o(e,(function(e,r){if(e||!r)return t.say({dam:"!",err:"DAM JSON parse error."},n);u.one(r,n,s)})):void 0}};function f(e){var t=e.batch,n="string"==typeof t;if(n&&(t+="]"),e.batch=e.tail=null,t&&!(n?3>t.length:!t.length)){if(!n)try{t=1===t.length?t[0]:JSON.stringify(t)}catch(e){return r.log("DAM JSON stringify error",e)}t&&p(t,e)}}function p(e,n){try{var r=n.wire;n.say?n.say(e):r.send&&r.send(e),t.say.d+=e.length||0,++t.say.c}catch(t){(n.queue=n.queue||[]).push(e)}}u.one=function(n,r,a){var o,i,u,f,p;if(n.DBG&&(n.DBG=p={DBG:n.DBG}),p&&(p.h=a),p&&(p.hp=+new Date),(o=n["#"])||(o=n["#"]=String.random(9)),!((u=c(o))||(i=n["##"])&&(u=n["@"]||n.get&&o)&&s.check(f=u+i))){if((n._=function(){}).via=t.leap=r,(u=n["><"])&&"string"==typeof u&&u.slice(0,99).split(",").forEach((function(e){this[e]=1}),n._.yo={}),u=n.dam)return(u=t.hear[u])&&u(n,r,e),void l(o);a=+new Date,p&&(p.is=a),r.SI=o,e.on("in",t.last=n),p&&(p.hd=+new Date),console.STAT&&console.STAT(a,+new Date-a,n.get?"msg get":n.put?"msg put":"msg"),(u=l(o)).via=r,n.get&&(u.it=n),f&&l(f),t.leap=t.last=null}},u.c=u.d=0,function(){var e,o=0;function u(e,t){var n;return t instanceof Object?(Object.keys(t).sort().forEach(d,{to:n={},on:t}),n):t}function d(e){this.to[e]=this.on[e]}t.hash=function(e,t){var n,r,o,s=+new Date;i(e.put,(function i(c,l){var u=(r||(r=o=l||"")).slice(0,32768);n=String.hash(u,n),(r=r.slice(32768))?a(i,0):(console.STAT&&console.STAT(s,+new Date-s,"say json+hash"),e._.$put=o,e["##"]=n,h(e,t),delete e._.$put)}),u)};var h=t.say=function(i,c){var u;if((u=this)&&(u=u.to)&&u.next&&u.next(i),!i)return!1;var d,g,m=i["@"],b=i._||(i._=function(){}),_=i.DBG,w=+new Date;if(b.y=b.y||w,c||_&&(_.y=w),(d=i["#"])||(d=i["#"]=String.random(9)),!e&&l(d),i.put&&(i.err||(s.s[d]||"").err))return!1;if(i["##"]||n===i.put||b.via||!m){if(!c&&m&&(c=(u=s.s[m])&&(u.via||(u=u.it)&&(u=u._)&&u.via)||(u=t.last)&&m===u["#"]&&t.leap),!c&&m){if(s.s[m])return;return console.STAT&&console.STAT(+new Date,++o,"total no peer to ack to"),!1}if(!c&&t.way)return t.way(i);if(_&&(_.yh=+new Date),g=b.raw){if(_&&(_.yr=+new Date),!c||!c.id){if(!Object.plain(c||r.peers))return!1;w=+new Date,r.puff;var y=r.peers,v=Object.keys(c||r.peers||{});return console.STAT&&console.STAT(w,+new Date-w,"peer keys"),void function t(){var n=+new Date;e=1;var r=b.raw;b.raw=g;for(var o,s=0;s<9&&(o=(v||"")[s++]);)(o=y[o])&&h(i,o);b.raw=r,e=0,v=v.slice(s),console.STAT&&console.STAT(n,+new Date-n,"say loop"),v.length&&(a(t,0),m&&l(m))}()}if(!c.wire&&t.wire&&t.wire(c),d!==c.last){if(c.last=d,c===b.via)return!1;if((u=b.yo)&&(u[c.url]||u[c.pid]||u[c.id]))return!1;if(console.STAT&&console.STAT(w,((_||b).yp=+new Date)-(b.y||w),"say prep"),!e&&m&&l(m),c.batch){if(c.tail=(u=c.tail||0)+g.length,c.tail<=r.pack)return void(c.batch+=(u?",":"")+g);f(c)}c.batch="[";var k=+new Date;setTimeout((function(){console.STAT&&console.STAT(k,+new Date-k,"0ms TO"),f(c)}),r.gap),p(g,c),console.STAT&&m===c.SI&&console.STAT(w,+new Date-c.SH,"say ack")}}else t.raw(i,c)}else t.hash(i,c)};t.say.c=t.say.d=0,t.raw=function(e,a){if(!e)return"";var o,l,u=e._||{};if(l=u.raw)return l;if("string"==typeof e)return e;var f=e["##"],p=e["@"];if(f&&p){if(!u.via&&c(p+f))return!1;if((l=(s.s[p]||"").it)||(l=t.last)&&p===l["#"]){if(f===l["##"])return!1;l["##"]||(l["##"]=f)}}if(!e.dam){var d=0,g=[];for(var m in l=r.peers){var b=l[m];if(g.push(b.url||b.pid||b.id),++d>6)break}d>1&&(e["><"]=g.join())}if(o=u.$put)return l={},Object.keys(e).forEach((function(t){l[t]=e[t]})),l.put=":])([:",void i(l,(function(e,t){if(!e){var r=+new Date;l=t.indexOf('"put":":])([:"'),_(n,t=t.slice(0,l+6)+o+t.slice(l+14)),console.STAT&&console.STAT(r,+new Date-r,"say slice")}}));function _(t,n){t||(u.raw=n,h(e,a))}i(e,_)}}(),t.hi=function(n){var a=n.wire||{};n.id?r.peers[n.url||n.id]=n:(a=n.id=n.id||String.random(9),t.say({dam:"?",pid:e.opt.pid},r.peers[a]=n),delete s.s[n.last]),n.met=n.met||+new Date,a.hied||e.on(a.hied="hi",n),a=n.queue,n.queue=[],setTimeout.each(a||[],(function(e){p(e,n)}),0,9)},t.bye=function(n){e.on("bye",n);var r=+new Date;r-=n.met||r,t.bye.time=((t.bye.time||r)+r)/2},t.hear["!"]=function(e,t){r.log("Error:",e.err)},t.hear["?"]=function(e,n){e.pid&&(n.pid||(n.pid=e.pid),e["@"])||(t.say({dam:"?",pid:r.pid,"@":e["#"]},n),delete s.s[n.last])},e.on("create",(function(e){e.opt.pid=e.opt.pid||String.random(9),this.to.next(e),e.on("out",t.say)})),e.on("bye",(function(e,t){e=r.peers[e.id||e]||e,this.to.next(e),e.bye?e.bye():(t=e.wire)&&t.close&&t.close(),delete r.peers[e.id],e.wire=null}));var d={};return e.on("bye",(function(e,t){this.to.next(e),(t=console.STAT)&&(t.peers=(t.peers||0)-1),(t=e.url)&&(d[t]=!0,setTimeout((function(){delete d[t]}),r.lack||9e3))})),e.on("hi",(function(n,a){this.to.next(n),(a=console.STAT)&&(a.peers=(a.peers||0)+1),(a=n.url)&&d[a]&&(delete d[a],r.super||setTimeout.each(Object.keys(e.next),(function(r){e.next[r],(a={})[r]=e.graph[r],a=String.hash(a),t.say({"##":a,get:{"#":r}},n)})))})),t}}catch(e){}}))(t,"./mesh"),t((function(e){var n=t("../index");n.Mesh=t("./mesh"),n.on("opt",(function(e){if(this.to.next(e),!e.once){var t=e.opt;if(!1!==t.WebSocket){var r=n.window||{},a=t.WebSocket||r.WebSocket||r.webkitWebSocket||r.mozWebSocket;if(a){t.WebSocket=a;var o=t.mesh=t.mesh||n.Mesh(e);o.wire||t.wire,o.wire=t.wire=c,setTimeout((function(){!t.super&&e.on("out",{dam:"hi"})}),1);var i=1998,s=""+undefined!=typeof document&&document}}}function c(e){try{if(!e||!e.url)return r&&r(e);var n=e.url.replace(/^http/,"ws"),r=e.wire=new t.WebSocket(n);return r.onclose=function(){t.mesh.bye(e),l(e)},r.onerror=function(t){l(e)},r.onopen=function(){t.mesh.hi(e)},r.onmessage=function(n){n&&t.mesh.hear(n.data||n,e)},r}catch(e){}}function l(e){clearTimeout(e.defer),s&&e.retry<=0||(e.retry=(e.retry||t.retry+1||60)-(-e.tried+(e.tried=+new Date)<7992?1:0),e.defer=setTimeout((function t(){if(s&&s.hidden)return setTimeout(t,i);c(e)}),i))}}))}))(t,"./websocket"),t((function(e){if("undefined"!=typeof Gun){var t;try{t=(Gun.window||function(){}).localStorage}catch(e){}t||(Gun.log("Warning: No localStorage exists to persist data to!"),t={setItem:function(e,t){this[e]=t},removeItem:function(e){delete this[e]},getItem:function(e){return this[e]}}),Gun.on("create",(function e(n){this.to.next(n);var r=n.opt;n.graph;var a,o,i=[];if(!1!==r.localStorage){r.prefix=r.file||"gun/";try{a=e[r.prefix]=e[r.prefix]||JSON.parse(t.getItem(r.prefix))||{}}catch(t){a=e[r.prefix]={}}n.on("get",(function(e){this.to.next(e);var t,n,r,o=e.get;o&&(t=o["#"])&&((n=a[t]||undefined)&&(r=o["."])&&!Object.plain(r)&&(n=Gun.state.ify({},r,Gun.state.is(n,r),n[r],t)),Gun.on.get.ack(e,n))})),n.on("put",(function(e){this.to.next(e);var t=e.put,n=t["#"],c=t["."];a[n]=Gun.state.ify(a[n],c,t[">"],t[":"],n),e["@"]||i.push(e["#"]),o||(o=setTimeout(s,r.wait||1))}))}function s(){var e,s=i;clearTimeout(o),o=!1,i=[];try{t.setItem(r.prefix,JSON.stringify(a))}catch(t){Gun.log((e=t||"localStorage failure")+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),n.on("localStorage:error",{err:e,get:r.prefix,put:a})}(e||Object.empty(r.peers))&&setTimeout.each(s,(function(t){n.on("in",{"@":t,err:e,ok:0})}))}}))}}))(t,"./localStorage")}(),function(){if(""+k!=typeof Gun){var e=function(e){console.log("Warning! Deprecated internal utility will break in next version:",e)},t=Gun;t.fn=t.fn||{is:function(t){return e("fn"),!!t&&"function"==typeof t}},t.bi=t.bi||{is:function(t){return e("bi"),t instanceof Boolean||"boolean"==typeof t}},t.num=t.num||{is:function(t){return e("num"),!r(t)&&(t-parseFloat(t)+1>=0||1/0===t||-1/0===t)}},t.text=t.text||{is:function(t){return e("text"),"string"==typeof t}},t.text.ify=t.text.ify||function(n){return e("text.ify"),t.text.is(n)?n:"undefined"!=typeof JSON?JSON.stringify(n):n&&n.toString?n.toString():n},t.text.random=t.text.random||function(t,n){e("text.random");var r="";for(t=t||24,n=n||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";t>0;)r+=n.charAt(Math.floor(Math.random()*n.length)),t--;return r},t.text.match=t.text.match||function(t,n){var r,a;return e("text.match"),"string"==typeof t&&("string"==typeof n&&(n={"=":n}),t===(r=(n=n||{})["="]||n["*"]||n[">"]||n["<"])||a===n["="]&&(r=n["*"]||n[">"]||n["<"],t.slice(0,(r||"").length)===r||a===n["*"]&&(a!==n[">"]&&a!==n["<"]?t>=n[">"]&&t<=n["<"]:a!==n[">"]&&t>=n[">"]||a!==n["<"]&&t<=n["<"])))},t.text.hash=t.text.hash||function(t,n){if(e("text.hash"),"string"==typeof t){if(n=n||0,!t.length)return n;for(var r=0,a=t.length;r<a;++r)n=(n<<5)-n+t.charCodeAt(r),n|=0;return n}},t.list=t.list||{is:function(t){return e("list"),t instanceof Array}},t.list.slit=t.list.slit||Array.prototype.slice,t.list.sort=t.list.sort||function(t){return e("list.sort"),function(e,n){return e&&n?(e=e[t])<(n=n[t])?-1:e>n?1:0:0}},t.list.map=t.list.map||function(t,n,r){return e("list.map"),i(t,n,r)},t.list.index=1,t.obj=t.boj||{is:function(t){return e("obj"),!!t&&(t instanceof Object&&t.constructor===Object||"Object"===Object.prototype.toString.call(t).match(/^\[object (\w+)\]$/)[1])}},t.obj.put=t.obj.put||function(t,n,r){return e("obj.put"),(t||{})[n]=r,t},t.obj.has=t.obj.has||function(t,n){return e("obj.has"),t&&Object.prototype.hasOwnProperty.call(t,n)},t.obj.del=t.obj.del||function(t,n){if(e("obj.del"),t)return t[n]=null,delete t[n],t},t.obj.as=t.obj.as||function(t,n,r,a){return e("obj.as"),t[n]=t[n]||(a===r?{}:r)},t.obj.ify=t.obj.ify||function(t){if(e("obj.ify"),a(t))return t;try{t=JSON.parse(t)}catch(e){t={}}return t},function(){function n(e,t){o(this,t)&&undefined!==this[t]||(this[t]=e)}t.obj.to=t.obj.to||function(t,r){return e("obj.to"),i(t,n,r=r||{}),r}}(),t.obj.copy=t.obj.copy||function(t){return e("obj.copy"),t?JSON.parse(JSON.stringify(t)):t},function(){function n(e,t){var n=this.n;if(!n||!(t===n||a(n)&&o(n,t)))return undefined!==t||void 0}t.obj.empty=t.obj.empty||function(t,r){return e("obj.empty"),!t||!i(t,n,{n:r})}}(),function(){function n(e,t){if(2===arguments.length)return n.r=n.r||{},void(n.r[e]=t);n.r=n.r||[],n.r.push(e)}var i,s=Object.keys;Object.keys=Object.keys||function(e){return i(e,(function(e,t,n){n(t)}))},t.obj.map=i=t.obj.map||function(i,c,l){e("obj.map");var u,f,p,d,h,g=0,m="function"==typeof c;if(n.r=u,s&&a(i)&&(d=s(i),h=!0),l=l||{},r(i)||d)for(f=(d||i).length;g<f;g++){var b=g+t.list.index;if(m){if((p=h?c.call(l,i[d[g]],d[g],n):c.call(l,i[g],b,n))!==u)return p}else if(c===i[h?d[g]:g])return d?d[g]:b}else for(g in i)if(m){if(o(i,g)&&(p=l?c.call(l,i[g],g,n):c(i[g],g,n))!==u)return p}else if(c===i[g])return g;return m?n.r:t.list.index?0:-1}}(),t.time=t.time||{},t.time.is=t.time.is||function(t){return e("time"),t?t instanceof Date:+(new Date).getTime()};var n=t.fn.is,r=t.list.is,a=(v=t.obj).is,o=v.has,i=v.map,s={is:function(t){return e("val.is"),t!==k&&(null===t||t!==1/0&&(!!(f(t)||l(t)||u(t))||(s.link.is(t)||!1)))}};s.link=s.rel={_:"#"},function(){function t(e,t){var n=this;return n.id?n.id=!1:t==c&&f(e)?void(n.id=e):n.id=!1}s.link.is=function(n){if(e("val.link.is"),n&&n[c]&&!n._&&a(n)){var r={};if(i(n,t,r),r.id)return r.id}return!1}}(),s.link.ify=function(t){return e("val.link.ify"),p({},c,t)},t.obj.has._=".";var c=s.link._,l=t.bi.is,u=t.num.is,f=t.text.is,p=(a=(v=t.obj).is,v.put);i=v.map;t.val=t.val||s;var d={_:"_",soul:function(t,n){return e("node.soul"),t&&t._&&t._[n||m]}};d.soul.ify=function(t,n){return e("node.soul.ify"),n="string"==typeof n?{soul:n}:n||{},(t=t||{})._=t._||{},t._[m]=n.soul||t._[m]||g(),t},d.soul._=s.link._,function(){function t(e,t){if(t!==d._)return!s.is(e)||void(this.cb&&this.cb.call(this.as,e,t,this.n,this.s))}d.is=function(n,r,o){var s;return e("node.is"),!!a(n)&&(!!(s=d.soul(n))&&!i(n,t,{as:o,cb:r,s:s,n:n}))}}(),function(){function t(e,t){var n,r=this.o;r.map?undefined===(n=r.map.call(this.as,e,""+t,r.node))?h(r.node,t):r.node&&(r.node[t]=n):s.is(e)&&(r.node[t]=e)}d.ify=function(n,r,a){return e("node.ify"),r?"string"==typeof r?r={soul:r}:"function"==typeof r&&(r={map:r}):r={},r.map&&(r.node=r.map.call(a,n,k,r.node||{})),(r.node=d.soul.ify(r.node||{},r))&&i(n,t,{o:r,as:a}),r.node}}();a=(v=t.obj).is;var h=v.del,g=(i=v.map,t.text.random),m=d.soul._;t.node=t.node||d;var b=t.state;b.lex=function(){return e("state.lex"),b().toString(36).replace(".","")},b.to=function(t,n,r){e("state.to");var o=(t||{})[n];return a(o)&&(o=_(o)),b.ify(r,n,b.is(t,n),o,d.soul(t))},function(){function t(e,t){w!==t&&b.ify(this.o,t,this.s)}b.map=function(r,s,c){var l;e("state.map");var f=a(f=r||s)?f:null;return r=n(r=r||s)?r:null,f&&!r?(s=u(s)?s:b(),f[w]=f[w]||{},i(f,t,{o:f,s:s}),f):(c=c||a(s)?s:l,s=u(s)?s:b(),function(e,n,a,i){if(!r)return t.call({o:a,s:s},e,n),e;r.call(c||this||{},e,n,a,i),o(a,n)&&l===a[n]||t.call({o:a,s:s},e,n)})}}(),(v=t.obj).as;o=v.has,a=v.is,i=v.map;var _=v.copy,w=(u=t.num.is,n=t.fn.is,d._),y={};!function(){function t(e,t){if(!e||t!==d.soul(e)||!d.is(e,this.fn,this.as))return!0;this.cb&&(n.n=e,n.as=this.as,this.cb.call(n.as,e,t,n))}function n(e){e&&d.is(n.n,e,n.as)}y.is=function(n,r,o,s){return e("graph.is"),!(!n||!a(n)||x(n))&&!i(n,t,{cb:r,fn:o,as:s})}}(),function(){function n(e,t){var n;return(n=function(e,t){var n,r=e.seen,a=r.length;for(;a--;)if(n=r[a],t.obj===n.obj)return n;r.push(t)}(e,t))?n:(t.env=e,t.soul=i,d.ify(t.obj,r,t)&&(t.link=t.link||s.link.ify(d.soul(t.node)),t.obj!==e.shell&&(e.graph[s.link.is(t.link)]=t.node)),t)}function r(e,t,r){var a,i,l=this,u=l.env;if(d._===t&&o(e,s.link._))return r._;if(a=c(e,t,r,l,u)){if(t||(l.node=l.node||r||{},o(e,d._)&&d.soul(e)&&(l.node._=_(e._)),l.node=d.soul.ify(l.node,s.link.is(l.link)),l.link=l.link||s.link.ify(d.soul(l.node))),(i=u.map)&&(i.call(u.as||{},e,t,r,l),o(r,t))){if(e=r[t],k===e)return void h(r,t);if(!(a=c(e,t,r,l,u)))return}if(!t)return l.node;if(!0===a)return e;if((i=n(u,{obj:e,path:l.path.concat(t)})).node)return i.link}}function i(e){var t=this,n=s.link.is(t.link),r=t.env.graph;t.link=t.link||s.link.ify(e),t.link[s.link._]=e,t.node&&t.node[d._]&&(t.node[d._][s.link._]=e),o(r,n)&&(r[e]=r[n],h(r,n))}function c(e,n,r,o,i){var l;return!!s.is(e)||(a(e)?1:(l=i.invalid)?c(e=l.call(i.as||{},e,n,r),n,r,o,i):(i.err="Invalid value at '"+o.path.concat(n).join(".")+"'!",void(t.list.is(e)&&(i.err+=" Use `.set(item)` instead of an Array."))))}y.ify=function(t,r,a){e("graph.ify");var o={path:[],obj:t};return r?"string"==typeof r?r={soul:r}:"function"==typeof r&&(r.map=r):r={},"string"==typeof a&&(r.soul=r.soul||a,a=k),r.soul&&(o.link=s.link.ify(r.soul)),r.shell=(a||{}).shell,r.graph=r.graph||{},r.seen=r.seen||[],r.as=r.as||a,n(r,o),r.root=o.node,r.graph}}(),y.node=function(t){e("graph.node");var n=d.soul(t);if(n)return p({},n,t)},function(){function t(e,t){var n,r;if(d._!==t)(n=s.link.is(e))?(r=this.opt.seen[n])?this.obj[t]=r:this.obj[t]=this.opt.seen[n]=y.to(this.graph,n,this.opt):this.obj[t]=e;else{if(x(e,s.link._))return;this.obj[t]=_(e)}}y.to=function(n,r,a){if(e("graph.to"),n){var o={};return a=a||{seen:{}},i(n[r],t,{obj:o,graph:n,opt:a}),o}}}();n=t.fn.is,a=(v=t.obj).is,h=v.del,o=v.has;var v,k,x=v.empty;p=v.put,i=v.map,_=v.copy;t.graph=t.graph||y}}()})),ne=te;Q((function(e){!function(){function t(e,n){return n?ee(e):e.slice?t[r(e)]:function(n,a){e(n={exports:{}}),t[r(a)]=n.exports};function r(e){return e.split("/").slice(-1).toString().replace(".js","")}}var n=e;t((function(e){"undefined"!=typeof window&&(e.window=window);var t=(e.window||e).SEA||{};(t.window=e.window)&&(t.window.SEA=t);try{undefined+""!=typeof n&&(n.exports=t)}catch(e){}e.exports=t}))(t,"./root"),t((function(e){var n=t("./root");try{n.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch(e){}}))(t,"./https"),t((function(e){var n;if(n+""==typeof btoa){if(n+""==typeof Buffer)try{Y.Buffer=t("buffer",1).Buffer}catch(e){console.log("Please `npm install buffer` or add it to your package.json !")}Y.btoa=function(e){return Buffer.from(e,"binary").toString("base64")},Y.atob=function(e){return Buffer.from(e,"base64").toString("binary")}}}))(t,"./base64"),t((function(e){function n(){}t("./base64"),Object.assign(n,{from:Array.from}),n.prototype=Object.create(Array.prototype),n.prototype.toString=function(e,t,n){e=e||"utf8",t=t||0;const r=this.length;if("hex"===e){const e=new Uint8Array(this);return[...Array((n&&n+1||r)-t).keys()].map((n=>e[n+t].toString(16).padStart(2,"0"))).join("")}return"utf8"===e?Array.from({length:(n||r)-t},((e,n)=>String.fromCharCode(this[n+t]))).join(""):"base64"===e?btoa(this):void 0},e.exports=n}))(t,"./array"),t((function(e){t("./base64");var n=t("./array");function r(...e){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),r.from(...e)}r.prototype=Object.create(Array.prototype),Object.assign(r,{from(){if(!Object.keys(arguments).length||null==arguments[0])throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const e=arguments[0];let t;if("string"==typeof e){const r=arguments[1]||"utf8";if("hex"===r){const r=e.match(/([\da-fA-F]{2})/g).map((e=>parseInt(e,16)));if(!r||!r.length)throw new TypeError("Invalid first argument for type 'hex'.");t=n.from(r)}else if("utf8"===r||"binary"===r){const r=e.length,a=new Uint16Array(r);Array.from({length:r},((t,n)=>a[n]=e.charCodeAt(n))),t=n.from(a)}else if("base64"===r){const r=atob(e),a=r.length,o=new Uint8Array(a);Array.from({length:a},((e,t)=>o[t]=r.charCodeAt(t))),t=n.from(o)}else"binary"===r?t=n.from(e):console.info("SafeBuffer.from unknown encoding: "+r);return t}e.byteLength;if(e.byteLength?e.byteLength:e.length){let t;return e instanceof ArrayBuffer&&(t=new Uint8Array(e)),n.from(t||e)}},alloc:(e,t=0)=>n.from(new Uint8Array(Array.from({length:e},(()=>t)))),allocUnsafe:e=>n.from(new Uint8Array(Array.from({length:e}))),concat(e){if(!Array.isArray(e))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return n.from(e.reduce(((e,t)=>e.concat(Array.from(t))),[]))}}),r.prototype.from=r.from,r.prototype.toString=n.prototype.toString,e.exports=r}))(t,"./buffer"),t((function(e){const r=t("./root"),a={Buffer:t("./buffer")};var o={};if(JSON.parseAsync=JSON.parseAsync||function(e,t,n){try{t(undefined,JSON.parse(e,n))}catch(e){t(e)}},JSON.stringifyAsync=JSON.stringifyAsync||function(e,t,n,r){try{t(undefined,JSON.stringify(e,n,r))}catch(e){t(e)}},a.parse=function(e,t){return new Promise((function(n,r){JSON.parseAsync(e,(function(e,t){e?r(e):n(t)}),t)}))},a.stringify=function(e,t,n){return new Promise((function(r,a){JSON.stringifyAsync(e,(function(e,t){e?a(e):r(t)}),t,n)}))},r.window&&(a.crypto=window.crypto||window.msCrypto,a.subtle=(a.crypto||o).subtle||(a.crypto||o).webkitSubtle,a.TextEncoder=window.TextEncoder,a.TextDecoder=window.TextDecoder,a.random=e=>a.Buffer.from(a.crypto.getRandomValues(new Uint8Array(a.Buffer.alloc(e))))),!a.TextDecoder){const{TextEncoder:e,TextDecoder:r}=t((undefined+""==typeof n?".":"")+"./lib/text-encoding",1);a.TextDecoder=r,a.TextEncoder=e}if(!a.crypto)try{var i=t("crypto",1);Object.assign(a,{crypto:i,random:e=>a.Buffer.from(i.randomBytes(e))});const{Crypto:e}=t("@peculiar/webcrypto",1);a.ossl=a.subtle=new e({directory:"ossl"}).subtle}catch(e){console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}e.exports=a}))(t,"./shim"),t((function(e){var n=t("./root"),r=t("./shim"),a={pbkdf2:{hash:{name:"SHA-256"},iter:1e5,ks:64},ecdsa:{pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},ecdh:{name:"ECDH",namedCurve:"P-256"},jwk:function(e,t){var n={kty:"EC",crv:"P-256",x:(e=e.split("."))[0],y:e[1],ext:!0};return n.key_ops=t?["sign"]:["verify"],t&&(n.d=t),n},keyToJwk:function(e){return{kty:"oct",k:e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),ext:!1,alg:"A256GCM"}},recall:{validity:43200,hook:function(e){return e}},check:function(e){return"string"==typeof e&&"SEA{"===e.slice(0,4)},parse:async function(e){try{var t="string"==typeof e;return t&&"SEA{"===e.slice(0,4)&&(e=e.slice(3)),t?await r.parse(e):e}catch(e){}return e}};n.opt=a,e.exports=a}))(t,"./settings"),t((function(e){var n=t("./shim");e.exports=async function(e,t){var r="string"==typeof e?e:await n.stringify(e),a=await n.subtle.digest({name:t||"SHA-256"},(new n.TextEncoder).encode(r));return n.Buffer.from(a)}}))(t,"./sha256"),t((function(e){const n=t("./shim"),r=n.subtle,a=n.ossl?n.ossl:r;e.exports=e=>a.digest({name:"SHA-1"},new ArrayBuffer(e))}))(t,"./sha1"),t((function(e){var n=t("./root"),r=t("./shim"),a=t("./settings"),o=t("./sha256");n.work=n.work||(async(e,t,i,s)=>{try{var c=(t||{}).epub||t;if(s=s||{},c instanceof Function&&(i=c,c=undefined),e="string"==typeof e?e:await r.stringify(e),"sha"===(s.name||"").toLowerCase().slice(0,3)){var l=r.Buffer.from(await o(e,s.name),"binary").toString(s.encode||"base64");if(i)try{i(l)}catch(e){console.log(e)}return l}c=c||r.random(9);var u=await(r.ossl||r.subtle).importKey("raw",(new r.TextEncoder).encode(e),{name:s.name||"PBKDF2"},!1,["deriveBits"]),f=await(r.ossl||r.subtle).deriveBits({name:s.name||"PBKDF2",iterations:s.iterations||a.pbkdf2.iter,salt:(new r.TextEncoder).encode(s.salt||c),hash:s.hash||a.pbkdf2.hash},u,s.length||8*a.pbkdf2.ks);e=r.random(e.length);var p=r.Buffer.from(f,"binary").toString(s.encode||"base64");if(i)try{i(p)}catch(e){console.log(e)}return p}catch(e){if(console.log(e),n.err=e,n.throw)throw e;return void(i&&i())}}),e.exports=n.work}))(t,"./work"),t((function(e){var n=t("./root"),r=t("./shim");t("./settings"),n.name=n.name||(async(e,t)=>{try{if(e)try{e()}catch(e){console.log(e)}return}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(e&&e())}}),n.pair=n.pair||(async(e,t)=>{try{var a=r.ossl||r.subtle,o=await r.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then((async e=>{var t={};t.priv=(await r.subtle.exportKey("jwk",e.privateKey)).d;var n=await r.subtle.exportKey("jwk",e.publicKey);return t.pub=n.x+"."+n.y,t}));try{var i=await a.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then((async e=>{var t={};t.epriv=(await a.exportKey("jwk",e.privateKey)).d;var n=await a.exportKey("jwk",e.publicKey);return t.epub=n.x+"."+n.y,t}))}catch(e){if(n.window)throw e;if("Error: ECDH is not a supported algorithm"!=e)throw e;console.log("Ignoring ECDH...")}i=i||{};var s={pub:o.pub,priv:o.priv,epub:i.epub,epriv:i.epriv};if(e)try{e(s)}catch(e){console.log(e)}return s}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(e&&e())}}),e.exports=n.pair}))(t,"./pair"),t((function(e){var n,r=t("./root"),a=t("./shim"),o=t("./settings"),i=t("./sha256");r.sign=r.sign||(async(e,t,s,c)=>{try{if(c=c||{},!(t||c).priv){if(!r.I)throw"No signing key.";t=await r.I(null,{what:e,how:"sign",why:c.why})}if(n===e)throw"`undefined` not allowed.";var l=await o.parse(e),u=c.check=c.check||l;if(r.verify&&(r.opt.check(u)||u&&u.s&&u.m)&&n!==await r.verify(u,t)){var f=await o.parse(u);if(c.raw||(f="SEA"+await a.stringify(f)),s)try{s(f)}catch(e){console.log(e)}return f}var p=t.pub,d=t.priv,h=o.jwk(p,d),g=await i(l),m=await(a.ossl||a.subtle).importKey("jwk",h,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then((e=>(a.ossl||a.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},e,new Uint8Array(g))));f={m:l,s:a.Buffer.from(m,"binary").toString(c.encode||"base64")};if(c.raw||(f="SEA"+await a.stringify(f)),s)try{s(f)}catch(e){console.log(e)}return f}catch(e){if(console.log(e),r.err=e,r.throw)throw e;return void(s&&s())}}),e.exports=r.sign}))(t,"./sign"),t((function(e){var n,r=t("./root"),a=t("./shim"),o=t("./settings"),i=t("./sha256");r.verify=r.verify||(async(e,t,s,c)=>{try{var l=await o.parse(e);if(!1===t){var u=await o.parse(l.m);if(s)try{s(u)}catch(e){console.log(e)}return u}c=c||{};var f,p,d,h=t.pub||t,g=r.opt.slow_leak?await r.opt.slow_leak(h):await(a.ossl||a.subtle).importKey("jwk",o.jwk(h),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),m=await i(l.m);try{if(f=a.Buffer.from(l.s,c.encode||"base64"),p=new Uint8Array(f),!(d=await(a.ossl||a.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},g,p,new Uint8Array(m))))throw"Signature did not match."}catch(n){if(r.opt.fallback)return await r.opt.fall_verify(e,t,s,c)}var b=d?await o.parse(l.m):n;if(s)try{s(b)}catch(e){console.log(e)}return b}catch(e){if(console.log(e),r.err=e,r.throw)throw e;return void(s&&s())}}),e.exports=r.verify;var s={};r.opt.slow_leak=e=>{if(s[e])return s[e];var t=o.jwk(e);return s[e]=(a.ossl||a.subtle).importKey("jwk",t,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),s[e]};var c=r.opt;r.opt.fall_verify=async function(e,t,s,l,u){if(u===r.opt.fallback)throw"Signature did not match";u=u||1;var f=e||"";e=r.opt.unpack(e)||e;var p,d,h,g=await o.parse(e),m=t.pub||t,b=await r.opt.slow_leak(m),_=u<=r.opt.fallback?a.Buffer.from(await a.subtle.digest({name:"SHA-256"},(new a.TextEncoder).encode(await o.parse(g.m)))):await i(g.m);try{if(p=a.Buffer.from(g.s,l.encode||"base64"),d=new Uint8Array(p),!(h=await(a.ossl||a.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},b,d,new Uint8Array(_))))throw"Signature did not match."}catch(e){try{p=a.Buffer.from(g.s,"utf8"),d=new Uint8Array(p),h=await(a.ossl||a.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},b,d,new Uint8Array(_))}catch(e){if(!h)throw"Signature did not match."}}var w=h?await o.parse(g.m):n;if(c.fall_soul=f["#"],c.fall_key=f["."],c.fall_val=e,c.fall_state=f[">"],s)try{s(w)}catch(e){console.log(e)}return w},r.opt.fallback=2}))(t,"./verify"),t((function(e){var n=t("./shim"),r=t("./settings"),a=t("./sha256");e.exports=async(e,t,o)=>{const i=e+(t||n.random(8)).toString("utf8"),s=n.Buffer.from(await a(i),"binary"),c=r.keyToJwk(s);return await n.subtle.importKey("jwk",c,{name:"AES-GCM"},!1,["encrypt","decrypt"])}}))(t,"./aeskey"),t((function(e){var n=t("./root"),r=t("./shim");t("./settings");var a=t("./aeskey");n.encrypt=n.encrypt||(async(e,t,o,i)=>{try{i=i||{};var s=(t||i).epriv||t;if(undefined===e)throw"`undefined` not allowed.";if(!s){if(!n.I)throw"No encryption key.";s=(t=await n.I(null,{what:e,how:"encrypt",why:i.why})).epriv||t}var c="string"==typeof e?e:await r.stringify(e),l={s:r.random(9),iv:r.random(15)},u=await a(s,l.s,i).then((e=>r.subtle.encrypt({name:i.name||"AES-GCM",iv:new Uint8Array(l.iv)},e,(new r.TextEncoder).encode(c)))),f={ct:r.Buffer.from(u,"binary").toString(i.encode||"base64"),iv:l.iv.toString(i.encode||"base64"),s:l.s.toString(i.encode||"base64")};if(i.raw||(f="SEA"+await r.stringify(f)),o)try{o(f)}catch(e){console.log(e)}return f}catch(e){if(console.log(e),n.err=e,n.throw)throw e;return void(o&&o())}}),e.exports=n.encrypt}))(t,"./encrypt"),t((function(e){var n=t("./root"),r=t("./shim"),a=t("./settings"),o=t("./aeskey");n.decrypt=n.decrypt||(async(e,t,i,s)=>{try{s=s||{};var c=(t||s).epriv||t;if(!c){if(!n.I)throw"No decryption key.";c=(t=await n.I(null,{what:e,how:"decrypt",why:s.why})).epriv||t}var l,u,f,p=await a.parse(e);try{l=r.Buffer.from(p.s,s.encode||"base64"),u=r.Buffer.from(p.iv,s.encode||"base64"),f=r.Buffer.from(p.ct,s.encode||"base64");var d=await o(c,l,s).then((e=>r.subtle.decrypt({name:s.name||"AES-GCM",iv:new Uint8Array(u),tagLength:128},e,new Uint8Array(f))))}catch(r){if("utf8"===s.encode)throw"Could not decrypt";if(n.opt.fallback)return s.encode="utf8",await n.decrypt(e,t,i,s)}var h=await a.parse(new r.TextDecoder("utf8").decode(d));if(i)try{i(h)}catch(e){console.log(e)}return h}catch(e){if(console.log(e),n.err=e,n.throw)throw e;return void(i&&i())}}),e.exports=n.decrypt}))(t,"./decrypt"),t((function(e){var n=t("./root"),r=t("./shim");t("./settings"),n.secret=n.secret||(async(e,t,o,i)=>{try{if(i=i||{},!t||!t.epriv||!t.epub){if(!n.I)throw"No secret mix.";t=await n.I(null,{what:e,how:"secret",why:i.why})}var s=e.epub||e,c=t.epub,l=t.epriv,u=r.ossl||r.subtle,f=a(s),p=Object.assign({public:await u.importKey(...f,!0,[])},{name:"ECDH",namedCurve:"P-256"}),d=a(c,l),h=await u.importKey(...d,!1,["deriveBits"]).then((async e=>{var t=await u.deriveBits(p,e,256),n=new Uint8Array(t),r=await u.importKey("raw",n,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return u.exportKey("jwk",r).then((({k:e})=>e))}));if(o)try{o(h)}catch(e){console.log(e)}return h}catch(e){if(console.log(e),n.err=e,n.throw)throw e;return void(o&&o())}});var a=(e,t)=>{var[n,r]=e.split("."),a=t?{d:t}:{};return["jwk",Object.assign(a,{x:n,y:r,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};e.exports=n.secret}))(t,"./secret"),t((function(e){var n=t("./root");n.certify=n.certify||(async(e,t={},r,a,o={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),!(e=(()=>{var t=[];if(e){if(("string"==typeof e||Array.isArray(e))&&e.indexOf("*")>-1)return"*";if("string"==typeof e)return e;if(Array.isArray(e)){if(1===e.length&&e[0])return"object"==typeof e[0]&&e[0].pub?e[0].pub:"string"==typeof e[0]?e[0]:null;e.map((e=>{"string"==typeof e?t.push(e):"object"==typeof e&&e.pub&&t.push(e.pub)}))}return"object"==typeof e&&e.pub?e.pub:t.length>0?t:null}})()))return console.log("No certificant found.");const s=!o.expiry||"number"!=typeof o.expiry&&"string"!=typeof o.expiry?null:parseFloat(o.expiry),c=(t||{}).read?t.read:null,l=(t||{}).write?t.write:"string"==typeof t||Array.isArray(t)||t["+"]||t["#"]||t["."]||t["="]||t["*"]||t[">"]||t["<"]?t:null,u=(o||{}).block||(o||{}).blacklist||(o||{}).ban||{},f=u.read&&("string"==typeof u.read||(u.read||{})["#"])?u.read:null,p="string"==typeof u?u:u.write&&("string"==typeof u.write||u.write["#"])?u.write:null;if(!c&&!l)return console.log("No policy found.");const d=JSON.stringify({c:e,...s?{e:s}:{},...c?{r:c}:{},...l?{w:l}:{},...f?{rb:f}:{},...p?{wb:p}:{}});var i=await n.sign(d,r,null,{raw:1});if(o.raw||(i="SEA"+JSON.stringify(i)),a)try{a(i)}catch(e){console.log(e)}return i}catch(e){if(n.err=e,n.throw)throw e;return void(a&&a())}}),e.exports=n.certify}))(t,"./certify"),t((function(e){var n=t("./shim"),r=t("./root");r.work=t("./work"),r.sign=t("./sign"),r.verify=t("./verify"),r.encrypt=t("./encrypt"),r.decrypt=t("./decrypt"),r.certify=t("./certify"),r.random=r.random||n.random,r.Buffer=r.Buffer||t("./buffer"),r.keyid=r.keyid||(async e=>{try{const t=n.Buffer.concat(e.replace(/-/g,"+").replace(/_/g,"/").split(".").map((e=>n.Buffer.from(e,"base64")))),r=n.Buffer.concat([n.Buffer.from([153,t.length/256,t.length%256]),t]),a=await sha1hash(r),o=n.Buffer.from(a,"binary");return o.toString("hex",o.length-8)}catch(e){throw console.log(e),e}}),((r.window||{}).GUN||{}).SEA=r,e.exports=r}))(t,"./sea"),t((function(e){var r,a=t("./sea");function o(e){this._={$:this}}function i(){return r.state().toString(36).replace(".","")}r=a.window?a.window.GUN||{chain:{}}:t((undefined+""==typeof n?".":"")+"./gun",1),a.GUN=r,o.prototype=function(){function e(){}return e.prototype=r.chain,new e}(),o.prototype.constructor=o,r.chain.user=function(e){var t,n=this.back(-1);if(e)return e=a.opt.pub((e._||"")["#"])||e,n.get("~"+e);if(t=n.back("user"))return t;var r=n=n._,s=r.opt.uuid||i;return(r=(t=r.user=this.chain(new o))._).opt={},r.opt.uuid=function(e){var t=s(),r=n.user;return r&&(r=r.is)&&(r=r.pub)?(t="~"+r+"/"+t,e&&e.call&&e(null,t),t):t},t},r.User=o,o.GUN=r,o.SEA=r.SEA=a,e.exports=o}))(t,"./user"),t((function(e){var r;(""+r!=typeof window?window.Gun||{chain:{}}:t((""+r==typeof n?".":"")+"./gun",1)).chain.then=function(e,t){var n=this,r=new Promise((function(e,r){n.once(e,t)}));return e?r.then(e):r}}))(t,"./then"),t((function(e){var n=t("./user"),r=n.SEA,a=n.GUN,o=function(){};n.prototype.create=function(...e){var t,n="object"==typeof e[0]&&(e[0].pub||e[0].epub)?e[0]:"object"==typeof e[1]&&(e[1].pub||e[1].epub)?e[1]:null,i=n&&(n.pub||n.epub)?n.pub:"string"==typeof e[0]?e[0]:null,s=n&&(n.pub||n.epub)?n:i&&"string"==typeof e[1]?e[1]:null,c=e.filter((e=>"function"==typeof e))[0]||null,l=e&&e.length>1&&"object"==typeof e[e.length-1]?e[e.length-1]:{},u=this,f=u._,p=u.back(-1);if((c=c||o,!1!==(l=l||{}).check)&&(i||(t="No user."),(s||"").length<8&&(t="Password too short!"),t))return c({err:a.log(t)}),u;if(f.ing)return(c||o)({err:a.log("User is already being created or authenticated!"),wait:!0}),u;f.ing=!0;var d={a:function(e){if(d.pubs=e,e&&!l.already){var t={err:a.log("User already created!")};return f.ing=!1,(c||o)(t),void u.leave()}d.salt=String.random(64),r.work(s,d.salt,d.b)},b:function(e){d.proof=e,n?d.c(n):r.pair(d.c)},c:function(e){var t;d.pair=e||{},(t=f.root.user)&&(t._.sea=e,t.is={pub:e.pub,epub:e.epub,alias:i}),d.data={pub:e.pub},d.d()},d:function(){d.data.alias=i,d.e()},e:function(){d.data.epub=d.pair.epub,r.encrypt({priv:d.pair.priv,epriv:d.pair.epriv},d.proof,d.f,{raw:1})},f:function(e){d.data.auth=JSON.stringify({ek:e,s:d.salt}),d.g(d.data.auth)},g:function(e){var t;d.data.auth=d.data.auth||e,p.get(t="~"+d.pair.pub).put(d.data).on(d.h);var n={};n[t]={"#":t},p.get("~@"+i).put(n).get(t).on(d.i)},h:function(e,t,n,r){r.off(),d.h.ok=1,d.i()},i:function(e,t,r,a){a&&(d.i.ok=1,a.off()),d.h.ok&&d.i.ok&&(f.ing=!1,c({ok:0,pub:d.pair.pub}),o===c&&(n?u.auth(n):u.auth(i,s)))}};return p.get("~@"+i).once(d.a),u},n.prototype.leave=function(e,t){var n=this.back(-1)._.user;if(n&&(delete n.is,delete n._.is,delete n._.sea),r.window)try{var a={};delete(a=window.sessionStorage).recall,delete a.pair}catch(e){}return this}}))(t,"./create"),t((function(e){var n=t("./user"),r=n.SEA,a=n.GUN,o=function(){};function i(e){if("string"!=typeof e)return e;try{e=JSON.parse(e)}catch(t){e={}}return e}n.prototype.auth=function(...e){var t="object"==typeof e[0]&&(e[0].pub||e[0].epub)?e[0]:"object"==typeof e[1]&&(e[1].pub||e[1].epub)?e[1]:null,n=t||"string"!=typeof e[0]?null:e[0],s=n&&"string"==typeof e[1]?e[1]:null,c=e.filter((e=>"function"==typeof e))[0]||null,l=e&&e.length>1&&"object"==typeof e[e.length-1]?e[e.length-1]:{},u=this,f=u._,p=u.back(-1);if(f.ing)return(c||o)({err:a.log("User is already being created or authenticated!"),wait:!0}),u;f.ing=!0;var d,h={};return h.a=function(e){if(!e)return h.b();if(!e.pub){var t=[];return Object.keys(e).forEach((function(n){"_"!=n&&t.push(e[n])})),h.b(t)}if(h.name)return h.f(e);h.c((h.data=e).auth)},h.b=function(e){var t=(h.list=(h.list||[]).concat(e||[])).shift();if(d===t)return h.name?h.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer."):h.err("Wrong user or password.");p.get(t).once(h.a)},h.c=function(e){return d===e?h.b():"string"==typeof e?h.c(i(e)):void r.work(s,(h.auth=e).s,h.d,h.enc)},h.d=function(e){r.decrypt(h.auth.ek,e,h.e,h.enc)},h.e=function(e){if(d===e)return h.enc?(h.enc=null,h.b()):(h.enc={encode:"utf8"},h.c(h.auth));h.half=e,h.f(h.data)},h.f=function(e){var t=h.half||{},n=h.data||{};h.g(h.lol={pub:e.pub||n.pub,epub:e.epub||n.epub,priv:e.priv||t.priv,epriv:e.epriv||t.epriv})},h.g=function(e){if(!e||!e.pub||!e.epub)return h.b();h.pair=e;var t=p._.user,g=t._;g.tag;var m=g.opt;(g=t._=p.get("~"+e.pub)._).opt=m,t.is={pub:e.pub,epub:e.epub,alias:n||e.pub},g.sea=h.pair,f.ing=!1;try{s&&d==(i(f.root.graph["~"+e.pub].auth)||"")[":"]&&(l.shuffle=l.change=s)}catch(e){}if(l.change?h.z():(c||o)(g),r.window&&(u.back("user")._.opt||l).remember)try{var b={};(b=window.sessionStorage).recall=!0,b.pair=JSON.stringify(e)}catch(e){}try{p._.tag.auth?p._.on("auth",g):setTimeout((function(){p._.on("auth",g)}),1)}catch(e){a.log("Your 'auth' callback crashed with:",e)}},h.z=function(){h.salt=String.random(64),r.work(l.change,h.salt,h.y)},h.y=function(e){r.encrypt({priv:h.pair.priv,epriv:h.pair.epriv},e,h.x,{raw:1})},h.x=function(e){h.w(JSON.stringify({ek:e,s:h.salt}))},h.w=function(e){if(l.shuffle){console.log("migrate core account from UTF8 & shuffle");var t={};Object.keys(h.data).forEach((function(e){t[e]=h.data[e]})),delete t._,t.auth=e,p.get("~"+h.pair.pub).put(t)}p.get("~"+h.pair.pub).get("auth").put(e,c||o)},h.err=function(e){var t={err:a.log(e||"User cannot be found!")};f.ing=!1,(c||o)(t)},h.plugin=function(e){if(!(h.name=e))return h.err();var t=[e];"~"!==e[0]&&(t[1]="~"+e,t[2]="~@"+e),h.b(t)},t?h.g(t):n?p.get("~@"+n).once(h.a):n||s||r.name(h.plugin),u}}))(t,"./auth"),t((function(e){var n=t("./user"),r=n.SEA;n.GUN,n.prototype.recall=function(e,t){var n=this,a=n.back(-1);if((e=e||{})&&e.sessionStorage){if(r.window)try{var o;(o=window.sessionStorage)&&(a._.opt.remember=!0,(n.back("user")._.opt||e).remember=!0,(o.recall||o.pair)&&a.user().auth(JSON.parse(o.pair),t))}catch(e){}return n}return n}}))(t,"./recall"),t((function(e){var n=t("./user"),r=n.SEA,a=n.GUN,o=function(){};n.prototype.pair=function(){var e,t=this;try{e=new Proxy({DANGER:""},{get:function(e,n,r){if(t.is&&(t._||"").sea)return t._.sea[n]}})}catch(e){}return e},n.prototype.delete=async function(e,t,n){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var r=this;r.back(-1);var i=r.back("user");try{i.auth(e,t,(function(e){(i.is||{}).pub;i.map().once((function(){this.put(null)})),i.leave(),(n||o)({ok:0})}))}catch(e){a.log("User.delete failed! Error:",e)}return r},n.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const e=this.back(-1);try{return await authRecall(e),e._.user._}catch(e){const t="No session!";throw a.log(t),{err:t}}},n.prototype.trust=async function(e){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),a.is(e)&&e.get("pub").get(((e,t)=>{console.log(e,t)})),e.get("trust").get(path).put(theirPubkey)},n.prototype.grant=function(e,t){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var n=this,a=n.back(-1).user(),o=a._.sea,i="";return n.back((function(e){e.is||(i+=e.get||"")})),async function(){var n,s=await a.get("grant").get(o.pub).get(i).then();(s=await r.decrypt(s,o))||(s=r.random(16).toString(),n=await r.encrypt(s,o),a.get("grant").get(o.pub).get(i).put(n));var c=e.get("pub").then(),l=e.get("epub").then();c=await c,l=await l;var u=await r.secret(l,o);n=await r.encrypt(s,u),a.get("grant").get(c).get(i).put(n,t)}(),n},n.prototype.secret=function(e,t){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var n=this,a=n.back(-1).user(),o=a.pair(),i="";return n.back((function(e){e.is||(i+=e.get||"")})),async function(){var s,c=await a.get("trust").get(o.pub).get(i).then();(c=await r.decrypt(c,o))||(c=r.random(16).toString(),s=await r.encrypt(c,o),a.get("trust").get(o.pub).get(i).put(s)),s=await r.encrypt(e,c),n.put(s,t)}(),n},e.exports=n}))(t,"./share"),t((function(e){var r,a=t("./sea"),o=t("./settings"),i=""+r!=typeof window?window.Gun||{on:function(){}}:t((""+r==typeof n?".":"")+"./gun",1);function s(e){var t,n=this,r=n.as,o=e.put,c=o["#"],l=o["."],u=o[":"],f=o[">"],p=e["#"];if(c&&l)if((e._||"").faith&&(r.opt||"").faith&&"function"==typeof e._)a.opt.pack(o,(function(t){a.verify(t,!1,(function(t){o["="]=a.opt.unpack(t),n.to.next(e)}))}));else{var d=function(t){r.on("in",{"@":p,err:e.err=t})};(e._||"").DBG&&((e._||"").DBG.c=+new Date),0<=c.indexOf("<?")&&(t=parseFloat(c.split("<?")[1]||""))&&f<i.state()-1e3*t?(t=e._)&&t.stun&&t.stun--:"~@"!==c?"~@"!==c.slice(0,2)?(t=a.opt.pub(c))?s.pub(n,e,u,l,c,r,d,r.user||"",t):0<=c.indexOf("#")?s.hash(n,e,u,l,c,r,d):s.any(n,e,u,l,c,r,d,r.user||""):s.pubs(n,e,u,l,c,r,d):s.alias(n,e,u,l,c,r,d)}}i.on("opt",(function(e){e.sea||(e.sea={own:{}},e.on("put",s,e)),this.to.next(e)})),s.hash=function(e,t,n,r,o,i,s){a.work(n,null,(function(n){if(n&&n===r.split("#").slice(-1)[0])return e.to.next(t);s("Data hash not same as hash!")}),{name:"SHA-256"})},s.alias=function(e,t,n,r,a,o,i){return n?"~@"+r===l(n)?e.to.next(t):void i("Alias not same!"):i("Data must exist!")},s.pubs=function(e,t,n,r,a,o,i){return n?r===l(n)?e.to.next(t):void i("Alias not same!"):i("Alias must exist!")},s.pub=async function(e,t,n,s,c,u,f,p,d){var h;const g=await o.parse(n)||{},m=(n,o,l)=>{if(n.m&&n.s&&o&&d)return a.verify(n,d,(n=>{if(r!==n&&r!==n.e&&t.put[">"]&&t.put[">"]>parseFloat(n.e))return f("Certificate expired.");if(r!==n&&n.c&&n.w&&(n.c===o||n.c.indexOf("*")>-1)){let t=c.indexOf("/")>-1?c.replace(c.substring(0,c.indexOf("/")+1),""):"";String.match=String.match||i.text.match;const r=Array.isArray(n.w)?n.w:"object"==typeof n.w||"string"==typeof n.w?[n.w]:[];for(const i of r)if(String.match(t,i["#"])&&String.match(s,i["."])||!i["."]&&String.match(t,i["#"])||!i["#"]&&String.match(s,i["."])||String.match(t?t+"/"+s:s,i["#"]||i)){if(i["+"]&&i["+"].indexOf("*")>-1&&t&&-1==t.indexOf(o)&&-1==s.indexOf(o))return f(`Path "${t}" or key "${s}" must contain string "${o}".`);if(n.wb&&("string"==typeof n.wb||(n.wb||{})["#"])){var a=e.as.root.$.back(-1);return"string"==typeof n.wb&&"~"!==n.wb.slice(0,1)&&(a=a.get("~"+d)),a.get(n.wb).get(o).once((e=>!e||1!==e&&!0!==e?l(n):f(`Certificant ${o} blocked.`)))}return l(n)}return f("Certificate verification fail.")}}))};if("pub"===s&&"~"+d===c)return n===d?e.to.next(t):f("Account not same!");(h=p.is)&&h.pub&&!g["*"]&&!g["+"]&&(d===h.pub||d!==h.pub&&((t._.msg||{}).opt||{}).cert)?a.opt.pack(t.put,(i=>{a.sign(i,p._.sea,(async function(i){if(r===i)return f(a.err||"Signature fail.");if(t.put[":"]={":":h=a.opt.unpack(i.m),"~":i.s},t.put["="]=h,d===p.is.pub)return(h=l(n))&&((u.sea.own[h]=u.sea.own[h]||{})[d]=1),void JSON.stringifyAsync(t.put[":"],(function(n,r){return n?f(n||"Stringify error."):(t.put[":"]=r,e.to.next(t))}));if(d!==p.is.pub&&((t._.msg||{}).opt||{}).cert){const n=await o.parse(t._.msg.opt.cert);n&&n.m&&n.s&&m(n,p.is.pub,(r=>{t.put[":"]["+"]=n,t.put[":"]["*"]=p.is.pub,JSON.stringifyAsync(t.put[":"],(function(n,r){return n?f(n||"Stringify error."):(t.put[":"]=r,e.to.next(t))}))}))}}),{raw:1})})):a.opt.pack(t.put,(n=>{a.verify(n,g["*"]||d,(function(n){var o;return n=a.opt.unpack(n),r===n?f("Unverified data."):((o=l(n))&&d===a.opt.pub(o)&&((u.sea.own[o]=u.sea.own[o]||{})[d]=1),g["+"]&&g["+"].m&&g["+"].s&&g["*"]?void m(g["+"],g["*"],(r=>(t.put["="]=n,e.to.next(t)))):(t.put["="]=n,e.to.next(t)))}))}))},s.any=function(e,t,n,r,a,o,i,s){if(o.opt.secure)return i("Soul missing public key at '"+r+"'.");o.on("secure",(function(t){if(this.off(),!o.opt.secure)return e.to.next(t);i("Data cannot be changed.")})).on.on("secure",t)};var c=i.valid,l=function(e,t){return"string"==typeof(t=c(e))&&t};(i.state||"").ify;var u=/[^\w_-]/;a.opt.pub=function(e){if(e&&(e=e.split("~"))&&(e=e[1])&&(e=e.split(u).slice(0,2))&&2==e.length&&"@"!==(e[0]||"")[0])return e=e.slice(0,2).join(".")},a.opt.stringy=function(e){},a.opt.pack=function(e,t,n,o,s){var c,l;if(a.opt.check(e))return t(e);e&&e["#"]&&e["."]&&e[">"]&&(c=e[":"],l=1),JSON.parseAsync(l?c:e,(function(a,c){var l=r!==(c||"")[":"]&&(c||"")["~"];t(l?{m:{"#":s||e["#"],".":n||e["."],":":(c||"")[":"],">":e[">"]||i.state.is(o,n)},s:l}:e)}))};var f=a.opt;a.opt.unpack=function(e,t,n){var o;if(r!==e){if(e&&r!==(o=e[":"]))return o;if(t=t||f.fall_key,!n&&f.fall_val&&((n={})[t]=f.fall_val),t&&n){if(e===n[t])return e;if(!a.opt.check(n[t]))return e;var s=n&&n._&&n._["#"]||f.fall_soul,c=i.state.is(n,t)||f.fall_state;return e&&4===e.length&&s===e[0]&&t===e[1]&&p(c)===p(e[3])?e[2]:c<a.opt.shuffle_attack?e:void 0}}},a.opt.shuffle_attack=15463296e5;var p=Math.floor}))(t,"./index")}()})),Q((function(e){!function(){function t(e,n){return n?ee(e):e.slice?t[r(e)]:function(n,a){e(n={exports:{}}),t[r(a)]=n.exports};function r(e){return e.split("/").slice(-1).toString().replace(".js","")}}var n=e;t((function(e){"undefined"!=typeof window&&(e.window=window);var t=(e.window||e).AXE||function(){};(t.window=e.window)&&(t.window.AXE=t);try{void 0!==n&&(n.exports=t)}catch(e){}e.exports=t}))(t,"./root"),t((function(e){var n=t("./root"),r=(n.window||"").Gun||t("./gun",1);if((r.AXE=n).GUN=n.Gun=r,!r.window)try{t("./lib/axe",1)}catch(e){}r.on("opt",(function(e){!function(e){if(e.axe)return;var t,n,a=e.opt,o=a.peers;if(!1===a.axe)return;if("undefined"!=typeof process&&"false"==""+(process.env||"").AXE)return;if(!r.window)return;e.axe={},(t=o[n="http://localhost:8765/gun"]=o[n]||{}).id=t.url=n,t.retry=t.retry||0,console.log("AXE enabled: Trying to find network via (1) local peer (2) last used peers (3) hard coded peers."),console.log("Warning: AXE alpha became super slow & laggy, now in testing only mode!");var i=JSON.parse((localStorage||"")[(a.file||"")+"axe/"]||null)||{};Object.keys(i.peers||"").forEach((function(e){(t=o[n=e]=o[n]||{}).id=t.url=n})),(t=o[n="https://ovh.era.eco/gun"]=o[n]||{}).id=t.url=n;var s=a.mesh=a.mesh||r.Mesh(e);s.way=function(t){if(e.$===t.$||(t._||"").via)s.say(t,a.peers);else{var n=(t.$||"")._;if(n){if(t.get){if(n.axe)return;n.axe={}}s.say(t,a.peers)}else s.say(t,a.peers)}}}(e),this.to.next(e)})),e.exports=n}))(t,"./axe")}()}));const re=ne({peers:["https://gun-manhattan.herokuapp.com/gun"]}),ae=re.user().recall({sessionStorage:!0}),oe=K("");ae.get("alias").on((e=>oe.set(e))),re.on("auth",(async e=>{const t=await ae.get("alias");oe.set(t)}));var ie=Q((function(e){(function(){function t(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r].defaultValue);return n}var n={},r={},a={},o=t(!0),i="vanilla",s={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:function(){var e=t(!0),n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}()};function c(e,t){var r=t?"Error in "+t+" extension->":"Error in unnamed extension",a={valid:!0,error:""};n.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var i=r+" sub-extension "+o+": ",s=e[o];if("object"!=typeof s)return a.valid=!1,a.error=i+"must be an object, but "+typeof s+" given",a;if(!n.helper.isString(s.type))return a.valid=!1,a.error=i+'property "type" must be a string, but '+typeof s.type+" given",a;var c=s.type=s.type.toLowerCase();if("language"===c&&(c=s.type="lang"),"html"===c&&(c=s.type="output"),"lang"!==c&&"output"!==c&&"listener"!==c)return a.valid=!1,a.error=i+"type "+c+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',a;if("listener"===c){if(n.helper.isUndefined(s.listeners))return a.valid=!1,a.error=i+'. Extensions of type "listener" must have a property called "listeners"',a}else if(n.helper.isUndefined(s.filter)&&n.helper.isUndefined(s.regex))return a.valid=!1,a.error=i+c+' extensions must define either a "regex" property or a "filter" method',a;if(s.listeners){if("object"!=typeof s.listeners)return a.valid=!1,a.error=i+'"listeners" property must be an object but '+typeof s.listeners+" given",a;for(var l in s.listeners)if(s.listeners.hasOwnProperty(l)&&"function"!=typeof s.listeners[l])return a.valid=!1,a.error=i+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof s.listeners[l]+" given",a}if(s.filter){if("function"!=typeof s.filter)return a.valid=!1,a.error=i+'"filter" must be a function, but '+typeof s.filter+" given",a}else if(s.regex){if(n.helper.isString(s.regex)&&(s.regex=new RegExp(s.regex,"g")),!(s.regex instanceof RegExp))return a.valid=!1,a.error=i+'"regex" property must either be a string or a RegExp object, but '+typeof s.regex+" given",a;if(n.helper.isUndefined(s.replace))return a.valid=!1,a.error=i+'"regex" extensions must implement a replace string or function',a}}return a}function l(e,t){return"E"+t.charCodeAt(0)+"E"}n.helper={},n.extensions={},n.setOption=function(e,t){return o[e]=t,this},n.getOption=function(e){return o[e]},n.getOptions=function(){return o},n.resetOptions=function(){o=t(!0)},n.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");n.resetOptions();var t=s[e];for(var r in i=e,t)t.hasOwnProperty(r)&&(o[r]=t[r])},n.getFlavor=function(){return i},n.getFlavorOptions=function(e){if(s.hasOwnProperty(e))return s[e]},n.getDefaultOptions=function(e){return t(e)},n.subParser=function(e,t){if(n.helper.isString(e)){if(void 0===t){if(r.hasOwnProperty(e))return r[e];throw Error("SubParser named "+e+" not registered!")}r[e]=t}},n.extension=function(e,t){if(!n.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=n.helper.stdExtName(e),n.helper.isUndefined(t)){if(!a.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return a[e]}"function"==typeof t&&(t=t()),n.helper.isArray(t)||(t=[t]);var r=c(t,e);if(!r.valid)throw Error(r.error);a[e]=t},n.getAllExtensions=function(){return a},n.removeExtension=function(e){delete a[e]},n.resetExtensions=function(){a={}},n.validateExtension=function(e){var t=c(e,null);return!!t.valid||(console.warn(t.error),!1)},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(e){return"string"==typeof e||e instanceof String},n.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},n.helper.isArray=function(e){return Array.isArray(e)},n.helper.isUndefined=function(e){return void 0===e},n.helper.forEach=function(e,t){if(n.helper.isUndefined(e))throw new Error("obj param is required");if(n.helper.isUndefined(t))throw new Error("callback param is required");if(!n.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(n.helper.isArray(e))for(var r=0;r<e.length;r++)t(e[r],r,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var a in e)e.hasOwnProperty(a)&&t(e[a],a,e)}},n.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},n.helper.escapeCharactersCallback=l,n.helper.escapeCharacters=function(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var a=new RegExp(r,"g");return e=e.replace(a,l)},n.helper.unescapeHTMLEntities=function(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var u=function(e,t,n,r){var a,o,i,s,c,l=r||"",u=l.indexOf("g")>-1,f=new RegExp(t+"|"+n,"g"+l.replace(/g/g,"")),p=new RegExp(t,l.replace(/g/g,"")),d=[];do{for(a=0;i=f.exec(e);)if(p.test(i[0]))a++||(s=(o=f.lastIndex)-i[0].length);else if(a&&!--a){c=i.index+i[0].length;var h={left:{start:s,end:o},match:{start:o,end:i.index},right:{start:i.index,end:c},wholeMatch:{start:s,end:c}};if(d.push(h),!u)return d}}while(a&&(f.lastIndex=o));return d};n.helper.matchRecursiveRegExp=function(e,t,n,r){for(var a=u(e,t,n,r),o=[],i=0;i<a.length;++i)o.push([e.slice(a[i].wholeMatch.start,a[i].wholeMatch.end),e.slice(a[i].match.start,a[i].match.end),e.slice(a[i].left.start,a[i].left.end),e.slice(a[i].right.start,a[i].right.end)]);return o},n.helper.replaceRecursiveRegExp=function(e,t,r,a,o){if(!n.helper.isFunction(t)){var i=t;t=function(){return i}}var s=u(e,r,a,o),c=e,l=s.length;if(l>0){var f=[];0!==s[0].wholeMatch.start&&f.push(e.slice(0,s[0].wholeMatch.start));for(var p=0;p<l;++p)f.push(t(e.slice(s[p].wholeMatch.start,s[p].wholeMatch.end),e.slice(s[p].match.start,s[p].match.end),e.slice(s[p].left.start,s[p].left.end),e.slice(s[p].right.start,s[p].right.end))),p<l-1&&f.push(e.slice(s[p].wholeMatch.end,s[p+1].wholeMatch.start));s[l-1].wholeMatch.end<e.length&&f.push(e.slice(s[l-1].wholeMatch.end)),c=f.join("")}return c},n.helper.regexIndexOf=function(e,t,r){if(!n.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var a=e.substring(r||0).search(t);return a>=0?a+(r||0):a},n.helper.splitAtIndex=function(e,t){if(!n.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},n.helper.encodeEmailAddress=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}))},n.helper.padEnd=function(e,t,n){return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),n.helper.regexes={asteriskDashAndColon:/([*_:~])/g},n.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},n.Converter=function(e){var t={},r=[],l=[],u={},f=i,p={parsed:{},raw:"",format:""};function d(e,t){if(t=t||null,n.helper.isString(e)){if(t=e=n.helper.stdExtName(e),n.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new n.Converter));n.helper.isArray(e)||(e=[e]);var a=c(e,t);if(!a.valid)throw Error(a.error);for(var o=0;o<e.length;++o)switch(e[o].type){case"lang":r.push(e[o]);break;case"output":l.push(e[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(n.extensions[e],e);if(n.helper.isUndefined(a[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=a[e]}"function"==typeof e&&(e=e()),n.helper.isArray(e)||(e=[e]);var o=c(e,t);if(!o.valid)throw Error(o.error);for(var i=0;i<e.length;++i){switch(e[i].type){case"lang":r.push(e[i]);break;case"output":l.push(e[i])}if(e[i].hasOwnProperty("listeners"))for(var s in e[i].listeners)e[i].listeners.hasOwnProperty(s)&&h(s,e[i].listeners[s])}}function h(e,t){if(!n.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");u.hasOwnProperty(e)||(u[e]=[]),u[e].push(t)}!function(){for(var r in e=e||{},o)o.hasOwnProperty(r)&&(t[r]=o[r]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.extensions&&n.helper.forEach(t.extensions,d)}(),this._dispatch=function(e,t,n,r){if(u.hasOwnProperty(e))for(var a=0;a<u[e].length;++a){var o=u[e][a](e,t,this,n,r);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return h(e,t),this},this.makeHtml=function(e){if(!e)return e;var a={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:r,outputModifiers:l,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(//g,"T")).replace(/\$/g,"D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=n.subParser("detab")(e,t,a)).replace(/^[ \t]+$/gm,""),n.helper.forEach(r,(function(r){e=n.subParser("runExtension")(r,e,t,a)})),e=n.subParser("metadata")(e,t,a),e=n.subParser("hashPreCodeTags")(e,t,a),e=n.subParser("githubCodeBlocks")(e,t,a),e=n.subParser("hashHTMLBlocks")(e,t,a),e=n.subParser("hashCodeTags")(e,t,a),e=n.subParser("stripLinkDefinitions")(e,t,a),e=n.subParser("blockGamut")(e,t,a),e=n.subParser("unhashHTMLSpans")(e,t,a),e=(e=(e=n.subParser("unescapeSpecialChars")(e,t,a)).replace(/D/g,"$$")).replace(/T/g,""),e=n.subParser("completeHTMLDocument")(e,t,a),n.helper.forEach(l,(function(r){e=n.subParser("runExtension")(r,e,t,a)})),p=a.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var r=t.createElement("div");r.innerHTML=e;var a={preList:function(e){for(var t=e.querySelectorAll("pre"),r=[],a=0;a<t.length;++a)if(1===t[a].childElementCount&&"code"===t[a].firstChild.tagName.toLowerCase()){var o=t[a].firstChild.innerHTML.trim(),i=t[a].firstChild.getAttribute("data-language")||"";if(""===i)for(var s=t[a].firstChild.className.split(" "),c=0;c<s.length;++c){var l=s[c].match(/^language-(.+)$/);if(null!==l){i=l[1];break}}o=n.helper.unescapeHTMLEntities(o),r.push(o),t[a].outerHTML='<precode language="'+i+'" precodenum="'+a.toString()+'"></precode>'}else r.push(t[a].innerHTML),t[a].innerHTML="",t[a].setAttribute("prenum",a.toString());return r}(r)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(r);for(var o=r.childNodes,i="",s=0;s<o.length;s++)i+=n.subParser("makeMarkdown.node")(o[s],a);return i},this.setOption=function(e,n){t[e]=n},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){d(e,t=t||null)},this.useExtension=function(e){d(e)},this.setFlavor=function(e){if(!s.hasOwnProperty(e))throw Error(e+" flavor was not found");var n=s[e];for(var r in f=e,n)n.hasOwnProperty(r)&&(t[r]=n[r])},this.getFlavor=function(){return f},this.removeExtension=function(e){n.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var a=e[t],o=0;o<r.length;++o)r[o]===a&&r[o].splice(o,1);for(;0<l.length;++o)l[0]===a&&l[0].splice(o,1)}},this.getAllExtensions=function(){return{language:r,output:l}},this.getMetadata=function(e){return e?p.raw:p.parsed},this.getMetadataFormat=function(){return p.format},this._setMetadataPair=function(e,t){p.parsed[e]=t},this._setMetadataFormat=function(e){p.format=e},this._setMetadataRaw=function(e){p.raw=e}},n.subParser("anchors",(function(e,t,r){var a=function(e,a,o,i,s,c,l){if(n.helper.isUndefined(l)&&(l=""),o=o.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)i="";else if(!i){if(o||(o=a.toLowerCase().replace(/ ?\n/g," ")),i="#"+o,n.helper.isUndefined(r.gUrls[o]))return e;i=r.gUrls[o],n.helper.isUndefined(r.gTitles[o])||(l=r.gTitles[o])}var u='<a href="'+(i=i.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"';return""!==l&&null!==l&&(u+=' title="'+(l=(l=l.replace(/"/g,"&quot;")).replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(i)&&(u+=' rel="noopener noreferrer" target="E95Eblank"'),u+=">"+a+"</a>"};return e=(e=(e=(e=(e=r.converter._dispatch("anchors.before",e,t,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,a)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,a)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,a)).replace(/\[([^\[\]]+)]()()()()()/g,a),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,r,a,o,i){if("\\"===a)return r+o;if(!n.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var s=t.ghMentionsLink.replace(/\{u}/g,i),c="";return t.openLinksInNewWindow&&(c=' rel="noopener noreferrer" target="E95Eblank"'),r+'<a href="'+s+'"'+c+">"+o+"</a>"}))),e=r.converter._dispatch("anchors.after",e,t,r)}));var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,p=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,d=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,h=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,g=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(e){return function(t,r,a,o,i,s,c){var l=a=a.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),u="",f="",p=r||"",d=c||"";return/^www\./i.test(a)&&(a=a.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&s&&(u=s),e.openLinksInNewWindow&&(f=' rel="noopener noreferrer" target="E95Eblank"'),p+'<a href="'+a+'"'+f+">"+l+"</a>"+u+d}},b=function(e,t){return function(r,a,o){var i="mailto:";return a=a||"",o=n.subParser("unescapeSpecialChars")(o,e,t),e.encodeEmails?(i=n.helper.encodeEmailAddress(i+o),o=n.helper.encodeEmailAddress(o)):i+=o,a+'<a href="'+i+'">'+o+"</a>"}};n.subParser("autoLinks",(function(e,t,n){return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(d,m(t))).replace(g,b(t,n)),e=n.converter._dispatch("autoLinks.after",e,t,n)})),n.subParser("simplifiedAutoLinks",(function(e,t,n){return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(p,m(t)):e.replace(f,m(t))).replace(h,b(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e})),n.subParser("blockGamut",(function(e,t,r){return e=r.converter._dispatch("blockGamut.before",e,t,r),e=n.subParser("blockQuotes")(e,t,r),e=n.subParser("headers")(e,t,r),e=n.subParser("horizontalRule")(e,t,r),e=n.subParser("lists")(e,t,r),e=n.subParser("codeBlocks")(e,t,r),e=n.subParser("tables")(e,t,r),e=n.subParser("hashHTMLBlocks")(e,t,r),e=n.subParser("paragraphs")(e,t,r),e=r.converter._dispatch("blockGamut.after",e,t,r)})),n.subParser("blockQuotes",(function(e,t,r){e=r.converter._dispatch("blockQuotes.before",e,t,r),e+="\n\n";var a=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(a=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(a,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/0/g,"")).replace(/^[ \t]+$/gm,""),e=n.subParser("githubCodeBlocks")(e,t,r),e=(e=(e=n.subParser("blockGamut")(e,t,r)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"0")).replace(/0/g,"")})),n.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,r)})),e=r.converter._dispatch("blockQuotes.after",e,t,r)})),n.subParser("codeBlocks",(function(e,t,r){e=r.converter._dispatch("codeBlocks.before",e,t,r);return e=(e=(e+="0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g,(function(e,a,o){var i=a,s=o,c="\n";return i=n.subParser("outdent")(i,t,r),i=n.subParser("encodeCode")(i,t,r),i=(i=(i=n.subParser("detab")(i,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(c=""),i="<pre><code>"+i+c+"</code></pre>",n.subParser("hashBlock")(i,t,r)+s}))).replace(/0/,""),e=r.converter._dispatch("codeBlocks.after",e,t,r)})),n.subParser("codeSpans",(function(e,t,r){return void 0===(e=r.converter._dispatch("codeSpans.before",e,t,r))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,a,o,i){var s=i;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=a+"<code>"+(s=n.subParser("encodeCode")(s,t,r))+"</code>",s=n.subParser("hashHTMLSpans")(s,t,r)})),e=r.converter._dispatch("codeSpans.after",e,t,r)})),n.subParser("completeHTMLDocument",(function(e,t,n){if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r="html",a="<!DOCTYPE HTML>\n",o="",i='<meta charset="utf-8">\n',s="",c="";for(var l in void 0!==n.metadata.parsed.doctype&&(a="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(r=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==r||(i='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(l))switch(l.toLowerCase()){case"doctype":break;case"title":o="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":i="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":s=' lang="'+n.metadata.parsed[l]+'"',c+='<meta name="'+l+'" content="'+n.metadata.parsed[l]+'">\n';break;default:c+='<meta name="'+l+'" content="'+n.metadata.parsed[l]+'">\n'}return e=a+"<html"+s+">\n<head>\n"+o+i+c+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=n.converter._dispatch("completeHTMLDocument.after",e,t,n)})),n.subParser("detab",(function(e,t,n){return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"AB")).replace(/B(.+?)A/g,(function(e,t){for(var n=t,r=4-n.length%4,a=0;a<r;a++)n+=" ";return n}))).replace(/A/g,"    ")).replace(/B/g,""),e=n.converter._dispatch("detab.after",e,t,n)})),n.subParser("ellipsis",(function(e,t,n){return e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,""),e=n.converter._dispatch("ellipsis.after",e,t,n)})),n.subParser("emoji",(function(e,t,r){if(!t.emoji)return e;return e=(e=r.converter._dispatch("emoji.before",e,t,r)).replace(/:([\S]+?):/g,(function(e,t){return n.helper.emojis.hasOwnProperty(t)?n.helper.emojis[t]:e})),e=r.converter._dispatch("emoji.after",e,t,r)})),n.subParser("encodeAmpsAndAngles",(function(e,t,n){return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)})),n.subParser("encodeBackslashEscapes",(function(e,t,r){return e=(e=(e=r.converter._dispatch("encodeBackslashEscapes.before",e,t,r)).replace(/\\(\\)/g,n.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,n.helper.escapeCharactersCallback),e=r.converter._dispatch("encodeBackslashEscapes.after",e,t,r)})),n.subParser("encodeCode",(function(e,t,r){return e=(e=r.converter._dispatch("encodeCode.before",e,t,r)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,n.helper.escapeCharactersCallback),e=r.converter._dispatch("encodeCode.after",e,t,r)})),n.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,t,r){return e=(e=(e=r.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,r)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)})),e=r.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,r)})),n.subParser("githubCodeBlocks",(function(e,t,r){return t.ghCodeBlocks?(e=r.converter._dispatch("githubCodeBlocks.before",e,t,r),e=(e=(e+="0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,a,o,i){var s=t.omitExtraWLInCodeBlocks?"":"\n";return i=n.subParser("encodeCode")(i,t,r),i="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+(i=(i=(i=n.subParser("detab")(i,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",i=n.subParser("hashBlock")(i,t,r),"\n\nG"+(r.ghCodeBlocks.push({text:e,codeblock:i})-1)+"G\n\n"}))).replace(/0/,""),r.converter._dispatch("githubCodeBlocks.after",e,t,r)):e})),n.subParser("hashBlock",(function(e,t,n){return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\nK"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",e=n.converter._dispatch("hashBlock.after",e,t,n)})),n.subParser("hashCodeTags",(function(e,t,r){e=r.converter._dispatch("hashCodeTags.before",e,t,r);return e=n.helper.replaceRecursiveRegExp(e,(function(e,a,o,i){var s=o+n.subParser("encodeCode")(a,t,r)+i;return"C"+(r.gHtmlSpans.push(s)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),e=r.converter._dispatch("hashCodeTags.after",e,t,r)})),n.subParser("hashElement",(function(e,t,n){return function(e,t){var r=t;return r=(r=(r=r.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),r="\n\nK"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}})),n.subParser("hashHTMLBlocks",(function(e,t,r){e=r.converter._dispatch("hashHTMLBlocks.before",e,t,r);var a=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,n,a){var o=e;return-1!==n.search(/\bmarkdown\b/)&&(o=n+r.converter.makeHtml(t)+a),"\n\nK"+(r.gHtmlBlocks.push(o)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var i=0;i<a.length;++i)for(var s,c=new RegExp("^ {0,3}(<"+a[i]+"\\b[^>]*>)","im"),l="<"+a[i]+"\\b[^>]*>",u="</"+a[i]+">";-1!==(s=n.helper.regexIndexOf(e,c));){var f=n.helper.splitAtIndex(e,s),p=n.helper.replaceRecursiveRegExp(f[1],o,l,u,"im");if(p===f[1])break;e=f[0].concat(p)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,r)),e=(e=n.helper.replaceRecursiveRegExp(e,(function(e){return"\n\nK"+(r.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,r)),e=r.converter._dispatch("hashHTMLBlocks.after",e,t,r)})),n.subParser("hashHTMLSpans",(function(e,t,n){function r(e){return"C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,(function(e){return r(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<[^>]+?>/gi,(function(e){return r(e)})),e=n.converter._dispatch("hashHTMLSpans.after",e,t,n)})),n.subParser("unhashHTMLSpans",(function(e,t,n){e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var a=n.gHtmlSpans[r],o=0;/C(\d+)C/.test(a);){var i=RegExp.$1;if(a=a.replace("C"+i+"C",n.gHtmlSpans[i]),10===o){console.error("maximum nesting of 10 spans reached!!!");break}++o}e=e.replace("C"+r+"C",a)}return e=n.converter._dispatch("unhashHTMLSpans.after",e,t,n)})),n.subParser("hashPreCodeTags",(function(e,t,r){e=r.converter._dispatch("hashPreCodeTags.before",e,t,r);return e=n.helper.replaceRecursiveRegExp(e,(function(e,a,o,i){var s=o+n.subParser("encodeCode")(a,t,r)+i;return"\n\nG"+(r.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=r.converter._dispatch("hashPreCodeTags.after",e,t,r)})),n.subParser("headers",(function(e,t,r){e=r.converter._dispatch("headers.before",e,t,r);var a=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),o=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,i=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(o,(function(e,o){var i=n.subParser("spanGamut")(o,t,r),s=t.noHeaderId?"":' id="'+c(o)+'"',l="<h"+a+s+">"+i+"</h"+a+">";return n.subParser("hashBlock")(l,t,r)}))).replace(i,(function(e,o){var i=n.subParser("spanGamut")(o,t,r),s=t.noHeaderId?"":' id="'+c(o)+'"',l=a+1,u="<h"+l+s+">"+i+"</h"+l+">";return n.subParser("hashBlock")(u,t,r)}));var s=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function c(e){var a,o;if(t.customizedHeaderId){var i=e.match(/\{([^{]+?)}\s*$/);i&&i[1]&&(e=i[1])}return a=e,o=n.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(a=o+a),a=t.ghCompatibleHeaderId?a.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?a.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():a.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(a=o+a),r.hashLinkCounts[a]?a=a+"-"+r.hashLinkCounts[a]++:r.hashLinkCounts[a]=1,a}return e=e.replace(s,(function(e,o,i){var s=i;t.customizedHeaderId&&(s=i.replace(/\s?\{([^{]+?)}\s*$/,""));var l=n.subParser("spanGamut")(s,t,r),u=t.noHeaderId?"":' id="'+c(i)+'"',f=a-1+o.length,p="<h"+f+u+">"+l+"</h"+f+">";return n.subParser("hashBlock")(p,t,r)})),e=r.converter._dispatch("headers.after",e,t,r)})),n.subParser("horizontalRule",(function(e,t,r){e=r.converter._dispatch("horizontalRule.before",e,t,r);var a=n.subParser("hashBlock")("<hr />",t,r);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,a)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,a)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,a),e=r.converter._dispatch("horizontalRule.after",e,t,r)})),n.subParser("images",(function(e,t,r){function a(e,t,a,o,i,s,c,l){var u=r.gUrls,f=r.gTitles,p=r.gDimensions;if(a=a.toLowerCase(),l||(l=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(""===o||null===o){if(""!==a&&null!==a||(a=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+a,n.helper.isUndefined(u[a]))return e;o=u[a],n.helper.isUndefined(f[a])||(l=f[a]),n.helper.isUndefined(p[a])||(i=p[a].width,s=p[a].height)}t=t.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var d='<img src="'+(o=o.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'" alt="'+t+'"';return l&&n.helper.isString(l)&&(d+=' title="'+(l=l.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback))+'"'),i&&s&&(d+=' width="'+(i="*"===i?"auto":i)+'"',d+=' height="'+(s="*"===s?"auto":s)+'"'),d+=" />"}return e=(e=(e=(e=(e=(e=r.converter._dispatch("images.before",e,t,r)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,a)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,n,r,o,i,s,c){return a(e,t,n,r=r.replace(/\s/g,""),o,i,s,c)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,a)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,a)).replace(/!\[([^\[\]]+)]()()()()()/g,a),e=r.converter._dispatch("images.after",e,t,r)})),n.subParser("italicsAndBold",(function(e,t,n){function r(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return r(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return r(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return r(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),e=n.converter._dispatch("italicsAndBold.after",e,t,n)})),n.subParser("lists",(function(e,t,r){function a(e,a){r.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,i=/\n[ \t]*\n(?!0)/.test(e+="0");return t.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(o,(function(e,a,o,s,c,l,u){u=u&&""!==u.trim();var f=n.subParser("outdent")(c,t,r),p="";return l&&t.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',f=f.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+=">"}))),f=f.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"A"+e})),a||f.search(/\n{2,}/)>-1?(f=n.subParser("githubCodeBlocks")(f,t,r),f=n.subParser("blockGamut")(f,t,r)):(f=(f=n.subParser("lists")(f,t,r)).replace(/\n$/,""),f=(f=n.subParser("hashHTMLBlocks")(f,t,r)).replace(/\n\n+/g,"\n\n"),f=i?n.subParser("paragraphs")(f,t,r):n.subParser("spanGamut")(f,t,r)),f="<li"+p+">"+(f=f.replace("A",""))+"</li>\n"}))).replace(/0/g,""),r.gListLevel--,a&&(e=e.replace(/\s+$/,"")),e}function o(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function i(e,n,r){var i=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,s=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,c="ul"===n?i:s,l="";if(-1!==e.search(c))!function t(u){var f=u.search(c),p=o(e,n);-1!==f?(l+="\n\n<"+n+p+">\n"+a(u.slice(0,f),!!r)+"</"+n+">\n",c="ul"===(n="ul"===n?"ol":"ul")?i:s,t(u.slice(f))):l+="\n\n<"+n+p+">\n"+a(u,!!r)+"</"+n+">\n"}(e);else{var u=o(e,n);l="\n\n<"+n+u+">\n"+a(e,!!r)+"</"+n+">\n"}return l}return e=r.converter._dispatch("lists.before",e,t,r),e+="0",e=(e=r.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n){return i(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n,r){return i(n,r.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/0/,""),e=r.converter._dispatch("lists.after",e,t,r)})),n.subParser("metadata",(function(e,t,n){if(!t.metadata)return e;function r(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,r){return n.metadata.parsed[t]=r,""}))}return e=(e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,(function(e,t,n){return r(n),"M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,a){return t&&(n.metadata.format=t),r(a),"M"}))).replace(/M/g,""),e=n.converter._dispatch("metadata.after",e,t,n)})),n.subParser("outdent",(function(e,t,n){return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"0")).replace(/0/g,""),e=n.converter._dispatch("outdent.after",e,t,n)})),n.subParser("paragraphs",(function(e,t,r){for(var a=(e=(e=(e=r.converter._dispatch("paragraphs.before",e,t,r)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],i=a.length,s=0;s<i;s++){var c=a[s];c.search(/(K|G)(\d+)\1/g)>=0?o.push(c):c.search(/\S/)>=0&&(c=(c=n.subParser("spanGamut")(c,t,r)).replace(/^([ \t]*)/g,"<p>"),c+="</p>",o.push(c))}for(i=o.length,s=0;s<i;s++){for(var l="",u=o[s],f=!1;/(K|G)(\d+)\1/.test(u);){var p=RegExp.$1,d=RegExp.$2;l=(l="K"===p?r.gHtmlBlocks[d]:f?n.subParser("encodeCode")(r.ghCodeBlocks[d].text,t,r):r.ghCodeBlocks[d].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,l),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(f=!0)}o[s]=u}return e=(e=(e=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),r.converter._dispatch("paragraphs.after",e,t,r)})),n.subParser("runExtension",(function(e,t,n,r){if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var a=e.regex;a instanceof RegExp||(a=new RegExp(a,"g")),t=t.replace(a,e.replace)}return t})),n.subParser("spanGamut",(function(e,t,r){return e=r.converter._dispatch("spanGamut.before",e,t,r),e=n.subParser("codeSpans")(e,t,r),e=n.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,r),e=n.subParser("encodeBackslashEscapes")(e,t,r),e=n.subParser("images")(e,t,r),e=n.subParser("anchors")(e,t,r),e=n.subParser("autoLinks")(e,t,r),e=n.subParser("simplifiedAutoLinks")(e,t,r),e=n.subParser("emoji")(e,t,r),e=n.subParser("underline")(e,t,r),e=n.subParser("italicsAndBold")(e,t,r),e=n.subParser("strikethrough")(e,t,r),e=n.subParser("ellipsis")(e,t,r),e=n.subParser("hashHTMLSpans")(e,t,r),e=n.subParser("encodeAmpsAndAngles")(e,t,r),t.simpleLineBreaks?/\n\nK/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=r.converter._dispatch("spanGamut.after",e,t,r)})),n.subParser("strikethrough",(function(e,t,r){return t.strikethrough&&(e=(e=r.converter._dispatch("strikethrough.before",e,t,r)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,a){return function(e){return t.simplifiedAutoLink&&(e=n.subParser("simplifiedAutoLinks")(e,t,r)),"<del>"+e+"</del>"}(a)})),e=r.converter._dispatch("strikethrough.after",e,t,r)),e})),n.subParser("stripLinkDefinitions",(function(e,t,r){var a=function(e,a,o,i,s,c,l){return a=a.toLowerCase(),o.match(/^data:.+?\/.+?;base64,/)?r.gUrls[a]=o.replace(/\s/g,""):r.gUrls[a]=n.subParser("encodeAmpsAndAngles")(o,t,r),c?c+l:(l&&(r.gTitles[a]=l.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&i&&s&&(r.gDimensions[a]={width:i,height:s}),"")};return e=(e=(e=(e+="0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm,a)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,a)).replace(/0/,"")})),n.subParser("tables",(function(e,t,r){if(!t.tables)return e;function a(e,a){return"<td"+a+">"+n.subParser("spanGamut")(e,t,r)+"</td>\n"}function o(e){var o,i=e.split("\n");for(o=0;o<i.length;++o)/^ {0,3}\|/.test(i[o])&&(i[o]=i[o].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(i[o])&&(i[o]=i[o].replace(/\|[ \t]*$/,"")),i[o]=n.subParser("codeSpans")(i[o],t,r);var s,c,l,u,f=i[0].split("|").map((function(e){return e.trim()})),p=i[1].split("|").map((function(e){return e.trim()})),d=[],h=[],g=[],m=[];for(i.shift(),i.shift(),o=0;o<i.length;++o)""!==i[o].trim()&&d.push(i[o].split("|").map((function(e){return e.trim()})));if(f.length<p.length)return e;for(o=0;o<p.length;++o)g.push((s=p[o],/^:[ \t]*--*$/.test(s)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(s)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(s)?' style="text-align:center;"':""));for(o=0;o<f.length;++o)n.helper.isUndefined(g[o])&&(g[o]=""),h.push((c=f[o],l=g[o],u=void 0,u="",c=c.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(u=' id="'+c.replace(/ /g,"_").toLowerCase()+'"'),"<th"+u+l+">"+(c=n.subParser("spanGamut")(c,t,r))+"</th>\n"));for(o=0;o<d.length;++o){for(var b=[],_=0;_<h.length;++_)n.helper.isUndefined(d[o][_]),b.push(a(d[o][_],g[_]));m.push(b)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,a=0;a<r;++a)n+=e[a];for(n+="</tr>\n</thead>\n<tbody>\n",a=0;a<t.length;++a){n+="<tr>\n";for(var o=0;o<r;++o)n+=t[a][o];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(h,m)}return e=(e=(e=(e=r.converter._dispatch("tables.before",e,t,r)).replace(/\\(\|)/g,n.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,o)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm,o),e=r.converter._dispatch("tables.after",e,t,r)})),n.subParser("underline",(function(e,t,r){return t.underline?(e=r.converter._dispatch("underline.before",e,t,r),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,n.helper.escapeCharactersCallback),e=r.converter._dispatch("underline.after",e,t,r)):e})),n.subParser("unescapeSpecialChars",(function(e,t,n){return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)})),e=n.converter._dispatch("unescapeSpecialChars.after",e,t,n)})),n.subParser("makeMarkdown.blockquote",(function(e,t){var r="";if(e.hasChildNodes())for(var a=e.childNodes,o=a.length,i=0;i<o;++i){var s=n.subParser("makeMarkdown.node")(a[i],t);""!==s&&(r+=s)}return r="> "+(r=r.trim()).split("\n").join("\n> ")})),n.subParser("makeMarkdown.codeBlock",(function(e,t){var n=e.getAttribute("language"),r=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[r]+"\n```"})),n.subParser("makeMarkdown.codeSpan",(function(e){return"`"+e.innerHTML+"`"})),n.subParser("makeMarkdown.emphasis",(function(e,t){var r="";if(e.hasChildNodes()){r+="*";for(var a=e.childNodes,o=a.length,i=0;i<o;++i)r+=n.subParser("makeMarkdown.node")(a[i],t);r+="*"}return r})),n.subParser("makeMarkdown.header",(function(e,t,r){var a=new Array(r+1).join("#"),o="";if(e.hasChildNodes()){o=a+" ";for(var i=e.childNodes,s=i.length,c=0;c<s;++c)o+=n.subParser("makeMarkdown.node")(i[c],t)}return o})),n.subParser("makeMarkdown.hr",(function(){return"---"})),n.subParser("makeMarkdown.image",(function(e){var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),n.subParser("makeMarkdown.links",(function(e,t){var r="";if(e.hasChildNodes()&&e.hasAttribute("href")){var a=e.childNodes,o=a.length;r="[";for(var i=0;i<o;++i)r+=n.subParser("makeMarkdown.node")(a[i],t);r+="](",r+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(r+=' "'+e.getAttribute("title")+'"'),r+=")"}return r})),n.subParser("makeMarkdown.list",(function(e,t,r){var a="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,i=o.length,s=e.getAttribute("start")||1,c=0;c<i;++c)if(void 0!==o[c].tagName&&"li"===o[c].tagName.toLowerCase()){a+=("ol"===r?s.toString()+". ":"- ")+n.subParser("makeMarkdown.listItem")(o[c],t),++s}return(a+="\n\x3c!-- --\x3e\n").trim()})),n.subParser("makeMarkdown.listItem",(function(e,t){for(var r="",a=e.childNodes,o=a.length,i=0;i<o;++i)r+=n.subParser("makeMarkdown.node")(a[i],t);return/\n$/.test(r)?r=r.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):r+="\n",r})),n.subParser("makeMarkdown.node",(function(e,t,r){r=r||!1;var a="";if(3===e.nodeType)return n.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":r||(a=n.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":r||(a=n.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":r||(a=n.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":r||(a=n.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":r||(a=n.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":r||(a=n.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":r||(a=n.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":r||(a=n.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":r||(a=n.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":r||(a=n.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":r||(a=n.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":r||(a=n.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":r||(a=n.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":r||(a=n.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":a=n.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":a=n.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":a=n.subParser("makeMarkdown.strong")(e,t);break;case"del":a=n.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":a=n.subParser("makeMarkdown.links")(e,t);break;case"img":a=n.subParser("makeMarkdown.image")(e,t);break;default:a=e.outerHTML+"\n\n"}return a})),n.subParser("makeMarkdown.paragraph",(function(e,t){var r="";if(e.hasChildNodes())for(var a=e.childNodes,o=a.length,i=0;i<o;++i)r+=n.subParser("makeMarkdown.node")(a[i],t);return r=r.trim()})),n.subParser("makeMarkdown.pre",(function(e,t){var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"})),n.subParser("makeMarkdown.strikethrough",(function(e,t){var r="";if(e.hasChildNodes()){r+="~~";for(var a=e.childNodes,o=a.length,i=0;i<o;++i)r+=n.subParser("makeMarkdown.node")(a[i],t);r+="~~"}return r})),n.subParser("makeMarkdown.strong",(function(e,t){var r="";if(e.hasChildNodes()){r+="**";for(var a=e.childNodes,o=a.length,i=0;i<o;++i)r+=n.subParser("makeMarkdown.node")(a[i],t);r+="**"}return r})),n.subParser("makeMarkdown.table",(function(e,t){var r,a,o="",i=[[],[]],s=e.querySelectorAll("thead>tr>th"),c=e.querySelectorAll("tbody>tr");for(r=0;r<s.length;++r){var l=n.subParser("makeMarkdown.tableCell")(s[r],t),u="---";if(s[r].hasAttribute("style"))switch(s[r].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":u=":---";break;case"text-align:right;":u="---:";break;case"text-align:center;":u=":---:"}i[0][r]=l.trim(),i[1][r]=u}for(r=0;r<c.length;++r){var f=i.push([])-1,p=c[r].getElementsByTagName("td");for(a=0;a<s.length;++a){var d=" ";void 0!==p[a]&&(d=n.subParser("makeMarkdown.tableCell")(p[a],t)),i[f].push(d)}}var h=3;for(r=0;r<i.length;++r)for(a=0;a<i[r].length;++a){var g=i[r][a].length;g>h&&(h=g)}for(r=0;r<i.length;++r){for(a=0;a<i[r].length;++a)1===r?":"===i[r][a].slice(-1)?i[r][a]=n.helper.padEnd(i[r][a].slice(-1),h-1,"-")+":":i[r][a]=n.helper.padEnd(i[r][a],h,"-"):i[r][a]=n.helper.padEnd(i[r][a],h);o+="| "+i[r].join(" | ")+" |\n"}return o.trim()})),n.subParser("makeMarkdown.tableCell",(function(e,t){var r="";if(!e.hasChildNodes())return"";for(var a=e.childNodes,o=a.length,i=0;i<o;++i)r+=n.subParser("makeMarkdown.node")(a[i],t,!0);return r.trim()})),n.subParser("makeMarkdown.txt",(function(e){var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/NBSP;/g," "),t=(t=(t=(t=(t=(t=(t=(t=(t=n.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}));e.exports?e.exports=n:this.showdown=n}).call(Y)})),se=Q((function(e,t){e.exports=function(){function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,a=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,s=Object.seal,c=Object.create,l="undefined"!=typeof Reflect&&Reflect,u=l.apply,f=l.construct;u||(u=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),s||(s=function(e){return e}),f||(f=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var p=k(Array.prototype.forEach),d=k(Array.prototype.pop),h=k(Array.prototype.push),g=k(String.prototype.toLowerCase),m=k(String.prototype.match),b=k(String.prototype.replace),_=k(String.prototype.indexOf),w=k(String.prototype.trim),y=k(RegExp.prototype.test),v=x(TypeError);function k(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return u(e,t,r)}}function x(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(e,n)}}function S(e,t){n&&n(e,null);for(var a=t.length;a--;){var o=t[a];if("string"==typeof o){var i=g(o);i!==o&&(r(t)||(t[a]=i),o=i)}e[o]=!0}return e}function A(e){var n=c(null),r=void 0;for(r in e)u(t,e,[r])&&(n[r]=e[r]);return n}function j(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=a(e)}function r(e){return console.warn("fallback value for",e),null}return r}var T=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),C=i(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),O=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=i(["#text"]),N=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),D=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),L=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),I=s(/<%[\s\S]*|[\s\S]*%>/gm),H=s(/^data-[\-\w.\u00B7-\uFFFF]/),R=s(/^aria-[\-\w]+$/),U=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=s(/^(?:\w+script|data):/i),F=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function W(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var V=function(){return"undefined"==typeof window?null:window},J=function(e,t){if("object"!==(void 0===e?"undefined":q(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V(),t=function(e){return K(e)};if(t.version="2.3.4",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=e.document,a=e.DocumentFragment,o=e.HTMLTemplateElement,s=e.Node,c=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,f=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,k=e.HTMLFormElement,x=e.DOMParser,Z=e.trustedTypes,X=c.prototype,Y=j(X,"cloneNode"),Q=j(X,"nextSibling"),ee=j(X,"childNodes"),te=j(X,"parentNode");if("function"==typeof o){var ne=r.createElement("template");ne.content&&ne.content.ownerDocument&&(r=ne.content.ownerDocument)}var re=J(Z,n),ae=re&&ze?re.createHTML(""):"",oe=r,ie=oe.implementation,se=oe.createNodeIterator,ce=oe.createDocumentFragment,le=oe.getElementsByTagName,ue=n.importNode,fe={};try{fe=A(r).documentMode?r.documentMode:{}}catch(e){}var pe={};t.isSupported="function"==typeof te&&ie&&void 0!==ie.createHTMLDocument&&9!==fe;var de=B,he=I,ge=H,me=R,be=G,_e=F,we=U,ye=null,ve=S({},[].concat(W(T),W(E),W($),W(P),W(M))),ke=null,xe=S({},[].concat(W(N),W(D),W(z),W(L))),Se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,je=null,Te=!0,Ee=!0,$e=!1,Ce=!1,Pe=!1,Oe=!1,Me=!1,Ne=!1,De=!1,ze=!1,Le=!0,Be=!0,Ie=!1,He={},Re=null,Ue=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,Fe=S({},["audio","video","img","source","image","track"]),qe=null,We=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml",Ze=Ke,Xe=!1,Ye=void 0,Qe=["application/xhtml+xml","text/html"],et="text/html",tt=void 0,nt=null,rt=r.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},ot=function(e){nt&&nt===e||(e&&"object"===(void 0===e?"undefined":q(e))||(e={}),e=A(e),ye="ALLOWED_TAGS"in e?S({},e.ALLOWED_TAGS):ve,ke="ALLOWED_ATTR"in e?S({},e.ALLOWED_ATTR):xe,qe="ADD_URI_SAFE_ATTR"in e?S(A(We),e.ADD_URI_SAFE_ATTR):We,Ge="ADD_DATA_URI_TAGS"in e?S(A(Fe),e.ADD_DATA_URI_TAGS):Fe,Re="FORBID_CONTENTS"in e?S({},e.FORBID_CONTENTS):Ue,Ae="FORBID_TAGS"in e?S({},e.FORBID_TAGS):{},je="FORBID_ATTR"in e?S({},e.FORBID_ATTR):{},He="USE_PROFILES"in e&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Ee=!1!==e.ALLOW_DATA_ATTR,$e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=e.SAFE_FOR_TEMPLATES||!1,Pe=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,De=e.RETURN_DOM_FRAGMENT||!1,ze=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,Be=!1!==e.KEEP_CONTENT,Ie=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||we,Ze=e.NAMESPACE||Ke,e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ye=Ye=-1===Qe.indexOf(e.PARSER_MEDIA_TYPE)?et:e.PARSER_MEDIA_TYPE,tt="application/xhtml+xml"===Ye?function(e){return e}:g,Ce&&(Ee=!1),De&&(Ne=!0),He&&(ye=S({},[].concat(W(M))),ke=[],!0===He.html&&(S(ye,T),S(ke,N)),!0===He.svg&&(S(ye,E),S(ke,D),S(ke,L)),!0===He.svgFilters&&(S(ye,$),S(ke,D),S(ke,L)),!0===He.mathMl&&(S(ye,P),S(ke,z),S(ke,L))),e.ADD_TAGS&&(ye===ve&&(ye=A(ye)),S(ye,e.ADD_TAGS)),e.ADD_ATTR&&(ke===xe&&(ke=A(ke)),S(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&S(qe,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(Re===Ue&&(Re=A(Re)),S(Re,e.FORBID_CONTENTS)),Be&&(ye["#text"]=!0),Pe&&S(ye,["html","head","body"]),ye.table&&(S(ye,["tbody"]),delete Ae.tbody),i&&i(e),nt=e)},it=S({},["mi","mo","mn","ms","mtext"]),st=S({},["foreignobject","desc","title","annotation-xml"]),ct=S({},E);S(ct,$),S(ct,C);var lt=S({},P);S(lt,O);var ut=function(e){var t=te(e);t&&t.tagName||(t={namespaceURI:Ke,tagName:"template"});var n=g(e.tagName),r=g(t.tagName);if(e.namespaceURI===Je)return t.namespaceURI===Ke?"svg"===n:t.namespaceURI===Ve?"svg"===n&&("annotation-xml"===r||it[r]):Boolean(ct[n]);if(e.namespaceURI===Ve)return t.namespaceURI===Ke?"math"===n:t.namespaceURI===Je?"math"===n&&st[r]:Boolean(lt[n]);if(e.namespaceURI===Ke){if(t.namespaceURI===Je&&!st[r])return!1;if(t.namespaceURI===Ve&&!it[r])return!1;var a=S({},["title","style","font","a","script"]);return!lt[n]&&(a[n]||!ct[n])}return!1},ft=function(e){h(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},pt=function(e,n){try{h(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(e){h(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!ke[e])if(Ne||De)try{ft(n)}catch(e){}else try{n.setAttribute(e,"")}catch(e){}},dt=function(e){var t=void 0,n=void 0;if(Me)e="<remove></remove>"+e;else{var a=m(e,/^[\r\n\t ]+/);n=a&&a[0]}"application/xhtml+xml"===Ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=re?re.createHTML(e):e;if(Ze===Ke)try{t=(new x).parseFromString(o,Ye)}catch(e){}if(!t||!t.documentElement){t=ie.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Xe?"":o}catch(e){}}var i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),Ze===Ke?le.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:i},ht=function(e){return se.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},gt=function(e){return e instanceof k&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof f)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},mt=function(e){return"object"===(void 0===s?"undefined":q(s))?e instanceof s:e&&"object"===(void 0===e?"undefined":q(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},bt=function(e,n,r){pe[e]&&p(pe[e],(function(e){e.call(t,n,r,nt)}))},_t=function(e){var n=void 0;if(bt("beforeSanitizeElements",e,null),gt(e))return ft(e),!0;if(m(e.nodeName,/[\u0080-\uFFFF]/))return ft(e),!0;var r=tt(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:ye}),!mt(e.firstElementChild)&&(!mt(e.content)||!mt(e.content.firstElementChild))&&y(/<[/\w]/g,e.innerHTML)&&y(/<[/\w]/g,e.textContent))return ft(e),!0;if("select"===r&&y(/<template/i,e.innerHTML))return ft(e),!0;if(!ye[r]||Ae[r]){if(Be&&!Re[r]){var a=te(e)||e.parentNode,o=ee(e)||e.childNodes;if(o&&a)for(var i=o.length-1;i>=0;--i)a.insertBefore(Y(o[i],!0),Q(e))}if(!Ae[r]&&yt(r)){if(Se.tagNameCheck instanceof RegExp&&y(Se.tagNameCheck,r))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(r))return!1}return ft(e),!0}return e instanceof c&&!ut(e)?(ft(e),!0):"noscript"!==r&&"noembed"!==r||!y(/<\/no(script|embed)/i,e.innerHTML)?(Ce&&3===e.nodeType&&(n=e.textContent,n=b(n,de," "),n=b(n,he," "),e.textContent!==n&&(h(t.removed,{element:e.cloneNode()}),e.textContent=n)),bt("afterSanitizeElements",e,null),!1):(ft(e),!0)},wt=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in r||n in rt))return!1;if(Ee&&!je[t]&&y(ge,t));else if(Te&&y(me,t));else if(!ke[t]||je[t]){if(!(yt(e)&&(Se.tagNameCheck instanceof RegExp&&y(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&y(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&y(Se.tagNameCheck,n)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(n))))return!1}else if(qe[t]);else if(y(we,b(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_(n,"data:")||!Ge[e])if($e&&!y(be,b(n,_e,"")));else if(n)return!1;return!0},yt=function(e){return e.indexOf("-")>0},vt=function(e){var n=void 0,r=void 0,a=void 0,o=void 0;bt("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(o=i.length;o--;){var c=n=i[o],l=c.name,u=c.namespaceURI;if(r=w(n.value),a=tt(l),s.attrName=a,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(pt(l,e),s.keepAttr))if(y(/\/>/i,r))pt(l,e);else{Ce&&(r=b(r,de," "),r=b(r,he," "));var f=tt(e.nodeName);if(wt(f,a,r))try{u?e.setAttributeNS(u,l,r):e.setAttribute(l,r),d(t.removed)}catch(e){}}}bt("afterSanitizeAttributes",e,null)}},kt=function e(t){var n=void 0,r=ht(t);for(bt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)bt("uponSanitizeShadowNode",n,null),_t(n)||(n.content instanceof a&&e(n.content),vt(n));bt("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(r,o){var i=void 0,c=void 0,l=void 0,u=void 0,f=void 0;if((Xe=!r)&&(r="\x3c!--\x3e"),"string"!=typeof r&&!mt(r)){if("function"!=typeof r.toString)throw v("toString is not a function");if("string"!=typeof(r=r.toString()))throw v("dirty is not a string, aborting")}if(!t.isSupported){if("object"===q(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof r)return e.toStaticHTML(r);if(mt(r))return e.toStaticHTML(r.outerHTML)}return r}if(Oe||ot(o),t.removed=[],"string"==typeof r&&(Ie=!1),Ie);else if(r instanceof s)1===(c=(i=dt("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?i=c:i.appendChild(c);else{if(!Ne&&!Ce&&!Pe&&-1===r.indexOf("<"))return re&&ze?re.createHTML(r):r;if(!(i=dt(r)))return Ne?null:ae}i&&Me&&ft(i.firstChild);for(var p=ht(Ie?r:i);l=p.nextNode();)3===l.nodeType&&l===u||_t(l)||(l.content instanceof a&&kt(l.content),vt(l),u=l);if(u=null,Ie)return r;if(Ne){if(De)for(f=ce.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return ke.shadowroot&&(f=ue.call(n,f,!0)),f}var d=Pe?i.outerHTML:i.innerHTML;return Ce&&(d=b(d,de," "),d=b(d,he," ")),re&&ze?re.createHTML(d):d},t.setConfig=function(e){ot(e),Oe=!0},t.clearConfig=function(){nt=null,Oe=!1},t.isValidAttribute=function(e,t,n){nt||ot({});var r=tt(e),a=tt(t);return wt(r,a,n)},t.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],h(pe[e],t))},t.removeHook=function(e){pe[e]&&d(pe[e])},t.removeHooks=function(e){pe[e]&&(pe[e]=[])},t.removeAllHooks=function(){pe={}},t}return K()}()}));
/*! @license DOMPurify 2.3.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.4/LICENSE */const ce=new ie.Converter({simplifiedAutoLink:!0,strikethrough:!0,tables:!0,tasklists:!0,openLinksInNewWindow:!0}),le=e=>se.sanitize(ce.makeHtml(e));let ue=K(!1);function fe(t){let n,a,o,i,h,_,y,v,k,x,S,A,j,T,E;return{c(){n=f("div"),a=f("div"),o=f("button"),o.textContent="X",i=d(),h=f("form"),_=f("span"),_.textContent=`Post to ${Z}`,y=d(),v=f("textarea"),k=d(),x=f("button"),S=p("Post"),b(o,"class","draft-close svelte-scsp0e"),b(_,"class","draft-title svelte-scsp0e"),b(v,"type","text"),b(v,"placeholder","Write something..."),b(v,"maxlength","3000"),b(v,"class","svelte-scsp0e"),b(x,"class","draft-submit svelte-scsp0e"),b(x,"type","submit"),x.disabled=A=!t[0].trim(),b(h,"class","svelte-scsp0e"),b(a,"class","modal-window svelte-scsp0e"),b(n,"class",j=s(t[1]?"modal fade-in":"modal hidden")+" svelte-scsp0e")},m(e,r){l(e,n,r),c(n,a),c(a,o),c(a,i),c(a,h),c(h,_),c(h,y),c(h,v),w(v,t[0]),c(h,k),c(h,x),c(x,S),T||(E=[g(o,"click",t[3]),g(v,"input",t[4]),g(h,"submit",m(t[2]))],T=!0)},p(e,[t]){1&t&&w(v,e[0]),1&t&&A!==(A=!e[0].trim())&&(x.disabled=A),2&t&&j!==(j=s(e[1]?"modal fade-in":"modal hidden")+" svelte-scsp0e")&&b(n,"class",j)},i:e,o:e,d(e){e&&u(n),T=!1,r(E)}}}function pe(e,t,n){let r;i(e,ue,(e=>n(1,r=e)));let a="";return[a,r,async function(){let e=a.trim();if(e&&(n(0,a=""),e=le(e),console.log(e),e)){const t=await SEA.encrypt(e,"#dxexit"),n=ae.get("all").set({what:t}),r=(new Date).toISOString();re.get("dxexithis@-"+Z).get(r).put(n),window.location.reload()}},function(){ue.set(!1)},function(){a=this.value,n(0,a)}]}class de extends V{constructor(e){super(),W(this,e,pe,fe,o,{})}}function he(t){let n,r,a,o,i,s,h,g,m,w=t[0].who+"",y=le(t[0].what)+"";return{c(){n=f("section"),r=f("div"),a=f("span"),o=p("@"),i=p(w),s=d(),h=f("time"),h.textContent=`${t[1].toLocaleTimeString()}`,g=d(),m=f("div"),b(a,"class","user svelte-1dqszdw"),b(h,"class","svelte-1dqszdw"),b(r,"class","sender svelte-1dqszdw"),b(m,"class","content markdown-body svelte-1dqszdw"),b(n,"class","svelte-1dqszdw")},m(e,t){l(e,n,t),c(n,r),c(r,a),c(a,o),c(a,i),c(r,s),c(r,h),c(n,g),c(n,m),m.innerHTML=y},p(e,[t]){1&t&&w!==(w=e[0].who+"")&&_(i,w),1&t&&y!==(y=le(e[0].what)+"")&&(m.innerHTML=y)},i:e,o:e,d(e){e&&u(n)}}}function ge(e,t,n){let{message:r}=t;const a=new Date(r.when);return e.$$set=e=>{"message"in e&&n(0,r=e.message)},[r,a]}class me extends V{constructor(e){super(),W(this,e,ge,he,o,{message:0})}}function be(e,t,n){const r=e.slice();return r[3]=t[n],r}function _e(e,t){let n,r,a;return r=new me({props:{message:t[3]}}),{key:e,first:null,c(){n=h(),U(r.$$.fragment),this.first=n},m(e,t){l(e,n,t),G(r,e,t),a=!0},p(e,n){t=e;const a={};1&n&&(a.message=t[3]),r.$set(a)},i(e){a||(I(r.$$.fragment,e),a=!0)},o(e){H(r.$$.fragment,e),a=!1},d(e){e&&u(n),F(r,e)}}}function we(e){let t,n,r,a,o,i,s,p,h,m=[],_=new Map,w=e[0];const y=e=>e[3].when;for(let t=0;t<w.length;t+=1){let n=be(e,w,t),r=y(n);_.set(r,m[t]=_e(r,n))}return i=new de({props:{active:e[1]}}),{c(){t=f("main"),n=f("div");for(let e=0;e<m.length;e+=1)m[e].c();r=d(),a=f("button"),a.textContent="+",o=d(),U(i.$$.fragment),b(n,"class","history svelte-1u4qdol"),b(a,"class","svelte-1u4qdol"),b(t,"class","svelte-1u4qdol")},m(u,f){l(u,t,f),c(t,n);for(let e=0;e<m.length;e+=1)m[e].m(n,null);c(t,r),c(t,a),l(u,o,f),G(i,u,f),s=!0,p||(h=g(a,"click",e[2]),p=!0)},p(e,[t]){1&t&&(w=e[0],L(),m=function(e,t,n,r,a,o,i,s,c,l,u,f){let p=e.length,d=o.length,h=p;const g={};for(;h--;)g[e[h].key]=h;const m=[],b=new Map,_=new Map;for(h=d;h--;){const e=f(a,o,h),s=n(e);let c=i.get(s);c?r&&c.p(e,t):(c=l(s,e),c.c()),b.set(s,m[h]=c),s in g&&_.set(s,Math.abs(h-g[s]))}const w=new Set,y=new Set;function v(e){I(e,1),e.m(s,u),i.set(e.key,e),u=e.first,d--}for(;p&&d;){const t=m[d-1],n=e[p-1],r=t.key,a=n.key;t===n?(u=t.first,p--,d--):b.has(a)?!i.has(r)||w.has(r)?v(t):y.has(a)?p--:_.get(r)>_.get(a)?(y.add(r),v(t)):(w.add(a),p--):(c(n,i),p--)}for(;p--;){const t=e[p];b.has(t.key)||c(t,i)}for(;d;)v(m[d-1]);return m}(m,t,y,1,e,w,_,n,R,_e,null,be),B());const r={};2&t&&(r.active=e[1]),i.$set(r)},i(e){if(!s){for(let e=0;e<w.length;e+=1)I(m[e]);I(i.$$.fragment,e),s=!0}},o(e){for(let e=0;e<m.length;e+=1)H(m[e]);H(i.$$.fragment,e),s=!1},d(e){e&&u(t);for(let e=0;e<m.length;e+=1)m[e].d();e&&u(o),F(i,e),p=!1,h()}}}function ye(e,t,n){let r;i(e,ue,(e=>n(1,r=e)));let a=[];return k((()=>{const e={".":{">":new Date(+new Date-1296e5).toISOString()},"-":1};re.get("dxexithis@-"+Z).map(e).once((async(e,t)=>{if(e){const t="#dxexit";var r={who:await re.user(e).get("alias"),what:await SEA.decrypt(e.what,t)+"",when:GUN.state.is(e,"what")};r.what&&n(0,a=[...a.slice(-100),r].sort(((e,t)=>t.when-e.when)))}}))})),[a,r,function(){ue.set(!0)}]}class ve extends V{constructor(e){super(),W(this,e,ye,we,o,{})}}function ke(t){let n;return{c(){n=f("main"),n.innerHTML='<form class="svelte-1h4mgqq"><label for="c" class="svelte-1h4mgqq">Go to a channel:</label> \n        <input name="c" type="text" class="svelte-1h4mgqq"/> \n        <button type="submit" class="svelte-1h4mgqq">Go</button></form>',b(n,"class","svelte-1h4mgqq")},m(e,t){l(e,n,t)},p:e,i:e,o:e,d(e){e&&u(n)}}}class xe extends V{constructor(e){super(),W(this,e,null,ke,o,{})}}function Se(t){let n,a,o,i,s,p,h,_,y,v,k,x,S,A,j;return{c(){n=f("main"),a=f("form"),o=f("label"),o.textContent="Username",i=d(),s=f("input"),p=d(),h=f("label"),h.textContent="Password",_=d(),y=f("input"),v=d(),k=f("button"),k.textContent="Login",x=d(),S=f("button"),S.textContent="Sign Up",b(o,"for","username"),b(o,"class","svelte-1r5jjjr"),b(s,"name","username"),b(s,"minlength","3"),b(s,"maxlength","16"),b(s,"class","svelte-1r5jjjr"),b(h,"for","password"),b(h,"class","svelte-1r5jjjr"),b(y,"name","password"),b(y,"type","password"),b(y,"class","svelte-1r5jjjr"),b(k,"class","login svelte-1r5jjjr"),b(S,"class","login svelte-1r5jjjr"),b(a,"class","svelte-1r5jjjr"),b(n,"class","svelte-1r5jjjr")},m(e,r){l(e,n,r),c(n,a),c(a,o),c(a,i),c(a,s),w(s,t[0]),c(a,p),c(a,h),c(a,_),c(a,y),w(y,t[1]),c(a,v),c(a,k),c(a,x),c(a,S),A||(j=[g(s,"input",t[5]),g(y,"input",t[6]),g(k,"click",t[2]),g(S,"click",t[3]),g(a,"submit",m(t[4]))],A=!0)},p(e,[t]){1&t&&s.value!==e[0]&&w(s,e[0]),2&t&&y.value!==e[1]&&w(y,e[1])},i:e,o:e,d(e){e&&u(n),A=!1,r(j)}}}function Ae(e,t,n){let r,a;function o(){ae.auth(r,a,(({err:e})=>e&&alert(e)))}return[r,a,o,function(){ae.create(r,a,(({err:e})=>{e?alert(e):o()}))},function(t){x.call(this,e,t)},function(){r=this.value,n(0,r)},function(){a=this.value,n(1,a)}]}class je extends V{constructor(e){super(),W(this,e,Ae,Se,o,{})}}function Te(t){let n,r;return n=new je({}),{c(){U(n.$$.fragment)},m(e,t){G(n,e,t),r=!0},p:e,i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){H(n.$$.fragment,e),r=!1},d(e){F(n,e)}}}function Ee(t){let n,r,a,o;const i=[Ce,$e],s=[];return n=Z?0:1,r=s[n]=i[n](t),{c(){r.c(),a=h()},m(e,t){s[n].m(e,t),l(e,a,t),o=!0},p:e,i(e){o||(I(r),o=!0)},o(e){H(r),o=!1},d(e){s[n].d(e),e&&u(a)}}}function $e(e){let t,n;return t=new xe({}),{c(){U(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function Ce(e){let t,n;return t=new ve({}),{c(){U(t.$$.fragment)},m(e,r){G(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function Pe(e){let t,n,r,a;const o=[Ee,Te],i=[];function s(e,t){return e[0]?0:1}return t=s(e),n=i[t]=o[t](e),{c(){n.c(),r=h()},m(e,n){i[t].m(e,n),l(e,r,n),a=!0},p(e,[a]){let c=t;t=s(e),t===c?i[t].p(e,a):(L(),H(i[c],1,1,(()=>{i[c]=null})),B(),n=i[t],n?n.p(e,a):(n=i[t]=o[t](e),n.c()),I(n,1),n.m(r.parentNode,r))},i(e){a||(I(n),a=!0)},o(e){H(n),a=!1},d(e){i[t].d(e),e&&u(r)}}}function Oe(e,t,n){let r;return i(e,oe,(e=>n(0,r=e))),[r]}class Me extends V{constructor(e){super(),W(this,e,Oe,Pe,o,{})}}function Ne(e){let t,n,r,a,o,i,s,h;return{c(){t=f("div"),n=f("strong"),r=p("@"),a=p(e[0]),o=d(),i=f("button"),i.textContent="Sign Out",b(t,"class","user-bio svelte-1b23aya"),b(i,"class","signout-button svelte-1b23aya")},m(u,f){l(u,t,f),c(t,n),c(n,r),c(n,a),l(u,o,f),l(u,i,f),s||(h=g(i,"click",e[1]),s=!0)},p(e,t){1&t&&_(a,e[0])},d(e){e&&u(t),e&&u(o),e&&u(i),s=!1,h()}}}function De(t){let n,r,a,o,i=X(),s=i&&function(t){let n;return{c(){n=f("span"),n.textContent=`/${Z}`,b(n,"class","channel svelte-1b23aya")},m(e,t){l(e,n,t)},p:e,d(e){e&&u(n)}}}(),p=t[0]&&Ne(t);return{c(){n=f("header"),r=f("a"),r.innerHTML='<img src="./favicon.png" alt="forus" class="icon svelte-1b23aya"/>',a=d(),s&&s.c(),o=d(),p&&p.c(),b(r,"href","./"),b(r,"class","svelte-1b23aya"),b(n,"class","svelte-1b23aya")},m(e,t){l(e,n,t),c(n,r),c(n,a),s&&s.m(n,null),c(n,o),p&&p.m(n,null)},p(e,[t]){i&&s.p(e,t),e[0]?p?p.p(e,t):(p=Ne(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null)},i:e,o:e,d(e){e&&u(n),s&&s.d(),p&&p.d()}}}function ze(e,t,n){let r;return i(e,oe,(e=>n(0,r=e))),[r,function(){ae.leave(),oe.set("")}]}class Le extends V{constructor(e){super(),W(this,e,ze,De,o,{})}}function Be(t){let n,r,a,o;return n=new Le({}),a=new Me({}),{c(){U(n.$$.fragment),r=d(),U(a.$$.fragment)},m(e,t){G(n,e,t),l(e,r,t),G(a,e,t),o=!0},p:e,i(e){o||(I(n.$$.fragment,e),I(a.$$.fragment,e),o=!0)},o(e){H(n.$$.fragment,e),H(a.$$.fragment,e),o=!1},d(e){F(n,e),e&&u(r),F(a,e)}}}function Ie(e){return k((()=>{X()})),[]}return new class extends V{constructor(e){super(),W(this,e,Ie,Be,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
